/* eslint-disable */
'use strict';
function e(e) {
  return e && 'object' == typeof e && 'default' in e ? e.default : e;
}
function t(e) {
  if (e && e.__esModule) return e;
  var t = {};
  return (
    e &&
      Object.keys(e).forEach(function(n) {
        var r = Object.getOwnPropertyDescriptor(e, n);
        Object.defineProperty(
          t,
          n,
          r.get
            ? r
            : {
                enumerable: !0,
                get: function() {
                  return e[n];
                },
              },
        );
      }),
    (t.default = e),
    t
  );
}
Object.defineProperty(exports, '__esModule', { value: !0 });
var n = e(require('immutability-helper')),
  r = require('lodash-es'),
  o = require('react'),
  a = e(o),
  i = require('semantic-ui-react'),
  l = e(require('moment')),
  c = require('react-virtualized'),
  u = e(require('axios'));
function s(e, t, n, r, o, a, i) {
  try {
    var l = e[a](i),
      c = l.value;
  } catch (e) {
    return void n(e);
  }
  l.done ? t(c) : Promise.resolve(c).then(r, o);
}
function d(e) {
  return function() {
    var t = this,
      n = arguments;
    return new Promise(function(r, o) {
      var a = e.apply(t, n);
      function i(e) {
        s(a, r, o, i, l, 'next', e);
      }
      function l(e) {
        s(a, r, o, i, l, 'throw', e);
      }
      i(void 0);
    });
  };
}
function p() {
  return (p =
    Object.assign ||
    function(e) {
      for (var t = 1; t < arguments.length; t++) {
        var n = arguments[t];
        for (var r in n)
          Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
      }
      return e;
    }).apply(this, arguments);
}
function m(e, t) {
  (e.prototype = Object.create(t.prototype)),
    (e.prototype.constructor = e),
    (e.__proto__ = t);
}
function f(e, t) {
  if (null == e) return {};
  var n,
    r,
    o = {},
    a = Object.keys(e);
  for (r = 0; r < a.length; r++) t.indexOf((n = a[r])) >= 0 || (o[n] = e[n]);
  return o;
}
function g(e, t) {
  (null == t || t > e.length) && (t = e.length);
  for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
  return r;
}
function h(e, t) {
  var n;
  if ('undefined' == typeof Symbol || null == e[Symbol.iterator]) {
    if (
      Array.isArray(e) ||
      (n = (function(e, t) {
        if (e) {
          if ('string' == typeof e) return g(e, void 0);
          var n = Object.prototype.toString.call(e).slice(8, -1);
          return (
            'Object' === n && e.constructor && (n = e.constructor.name),
            'Map' === n || 'Set' === n
              ? Array.from(e)
              : 'Arguments' === n ||
                /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
              ? g(e, void 0)
              : void 0
          );
        }
      })(e)) ||
      (t && e && 'number' == typeof e.length)
    ) {
      n && (e = n);
      var r = 0;
      return function() {
        return r >= e.length ? { done: !0 } : { done: !1, value: e[r++] };
      };
    }
    throw new TypeError(
      'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
    );
  }
  return (n = e[Symbol.iterator]()).next.bind(n);
}
function v(e) {
  var t = (function(e, t) {
    if ('object' != typeof e || null === e) return e;
    var n = e[Symbol.toPrimitive];
    if (void 0 !== n) {
      var r = n.call(e, 'string');
      if ('object' != typeof r) return r;
      throw new TypeError('@@toPrimitive must return a primitive value.');
    }
    return String(e);
  })(e);
  return 'symbol' == typeof t ? t : String(t);
}
var y,
  C =
    ((function(e) {
      var t = (function(e) {
        var t = Object.prototype,
          n = t.hasOwnProperty,
          r = 'function' == typeof Symbol ? Symbol : {},
          o = r.iterator || '@@iterator',
          a = r.asyncIterator || '@@asyncIterator',
          i = r.toStringTag || '@@toStringTag';
        function l(e, t, n) {
          return (
            Object.defineProperty(e, t, {
              value: n,
              enumerable: !0,
              configurable: !0,
              writable: !0,
            }),
            e[t]
          );
        }
        try {
          l({}, '');
        } catch (e) {
          l = function(e, t, n) {
            return (e[t] = n);
          };
        }
        function c(e, t, n, r) {
          var o = Object.create(
              (t && t.prototype instanceof d ? t : d).prototype,
            ),
            a = new k(r || []);
          return (
            (o._invoke = (function(e, t, n) {
              var r = 'suspendedStart';
              return function(o, a) {
                if ('executing' === r)
                  throw new Error('Generator is already running');
                if ('completed' === r) {
                  if ('throw' === o) throw a;
                  return { value: void 0, done: !0 };
                }
                for (n.method = o, n.arg = a; ; ) {
                  var i = n.delegate;
                  if (i) {
                    var l = w(i, n);
                    if (l) {
                      if (l === s) continue;
                      return l;
                    }
                  }
                  if ('next' === n.method) n.sent = n._sent = n.arg;
                  else if ('throw' === n.method) {
                    if ('suspendedStart' === r)
                      throw ((r = 'completed'), n.arg);
                    n.dispatchException(n.arg);
                  } else 'return' === n.method && n.abrupt('return', n.arg);
                  r = 'executing';
                  var c = u(e, t, n);
                  if ('normal' === c.type) {
                    if (
                      ((r = n.done ? 'completed' : 'suspendedYield'),
                      c.arg === s)
                    )
                      continue;
                    return { value: c.arg, done: n.done };
                  }
                  'throw' === c.type &&
                    ((r = 'completed'), (n.method = 'throw'), (n.arg = c.arg));
                }
              };
            })(e, n, a)),
            o
          );
        }
        function u(e, t, n) {
          try {
            return { type: 'normal', arg: e.call(t, n) };
          } catch (e) {
            return { type: 'throw', arg: e };
          }
        }
        e.wrap = c;
        var s = {};
        function d() {}
        function p() {}
        function m() {}
        var f = {};
        f[o] = function() {
          return this;
        };
        var g = Object.getPrototypeOf,
          h = g && g(g(P([])));
        h && h !== t && n.call(h, o) && (f = h);
        var v = (m.prototype = d.prototype = Object.create(f));
        function y(e) {
          ['next', 'throw', 'return'].forEach(function(t) {
            l(e, t, function(e) {
              return this._invoke(t, e);
            });
          });
        }
        function C(e, t) {
          var r;
          this._invoke = function(o, a) {
            function i() {
              return new t(function(r, i) {
                !(function r(o, a, i, l) {
                  var c = u(e[o], e, a);
                  if ('throw' !== c.type) {
                    var s = c.arg,
                      d = s.value;
                    return d && 'object' == typeof d && n.call(d, '__await')
                      ? t.resolve(d.__await).then(
                          function(e) {
                            r('next', e, i, l);
                          },
                          function(e) {
                            r('throw', e, i, l);
                          },
                        )
                      : t.resolve(d).then(
                          function(e) {
                            (s.value = e), i(s);
                          },
                          function(e) {
                            return r('throw', e, i, l);
                          },
                        );
                  }
                  l(c.arg);
                })(o, a, r, i);
              });
            }
            return (r = r ? r.then(i, i) : i());
          };
        }
        function w(e, t) {
          var n = e.iterator[t.method];
          if (void 0 === n) {
            if (((t.delegate = null), 'throw' === t.method)) {
              if (
                e.iterator.return &&
                ((t.method = 'return'),
                (t.arg = void 0),
                w(e, t),
                'throw' === t.method)
              )
                return s;
              (t.method = 'throw'),
                (t.arg = new TypeError(
                  "The iterator does not provide a 'throw' method",
                ));
            }
            return s;
          }
          var r = u(n, e.iterator, t.arg);
          if ('throw' === r.type)
            return (
              (t.method = 'throw'), (t.arg = r.arg), (t.delegate = null), s
            );
          var o = r.arg;
          return o
            ? o.done
              ? ((t[e.resultName] = o.value),
                (t.next = e.nextLoc),
                'return' !== t.method &&
                  ((t.method = 'next'), (t.arg = void 0)),
                (t.delegate = null),
                s)
              : o
            : ((t.method = 'throw'),
              (t.arg = new TypeError('iterator result is not an object')),
              (t.delegate = null),
              s);
        }
        function b(e) {
          var t = { tryLoc: e[0] };
          1 in e && (t.catchLoc = e[1]),
            2 in e && ((t.finallyLoc = e[2]), (t.afterLoc = e[3])),
            this.tryEntries.push(t);
        }
        function E(e) {
          var t = e.completion || {};
          (t.type = 'normal'), delete t.arg, (e.completion = t);
        }
        function k(e) {
          (this.tryEntries = [{ tryLoc: 'root' }]),
            e.forEach(b, this),
            this.reset(!0);
        }
        function P(e) {
          if (e) {
            var t = e[o];
            if (t) return t.call(e);
            if ('function' == typeof e.next) return e;
            if (!isNaN(e.length)) {
              var r = -1,
                a = function t() {
                  for (; ++r < e.length; )
                    if (n.call(e, r)) return (t.value = e[r]), (t.done = !1), t;
                  return (t.value = void 0), (t.done = !0), t;
                };
              return (a.next = a);
            }
          }
          return { next: S };
        }
        function S() {
          return { value: void 0, done: !0 };
        }
        return (
          (p.prototype = v.constructor = m),
          (m.constructor = p),
          (p.displayName = l(m, i, 'GeneratorFunction')),
          (e.isGeneratorFunction = function(e) {
            var t = 'function' == typeof e && e.constructor;
            return (
              !!t &&
              (t === p || 'GeneratorFunction' === (t.displayName || t.name))
            );
          }),
          (e.mark = function(e) {
            return (
              Object.setPrototypeOf
                ? Object.setPrototypeOf(e, m)
                : ((e.__proto__ = m), l(e, i, 'GeneratorFunction')),
              (e.prototype = Object.create(v)),
              e
            );
          }),
          (e.awrap = function(e) {
            return { __await: e };
          }),
          y(C.prototype),
          (C.prototype[a] = function() {
            return this;
          }),
          (e.AsyncIterator = C),
          (e.async = function(t, n, r, o, a) {
            void 0 === a && (a = Promise);
            var i = new C(c(t, n, r, o), a);
            return e.isGeneratorFunction(n)
              ? i
              : i.next().then(function(e) {
                  return e.done ? e.value : i.next();
                });
          }),
          y(v),
          l(v, i, 'Generator'),
          (v[o] = function() {
            return this;
          }),
          (v.toString = function() {
            return '[object Generator]';
          }),
          (e.keys = function(e) {
            var t = [];
            for (var n in e) t.push(n);
            return (
              t.reverse(),
              function n() {
                for (; t.length; ) {
                  var r = t.pop();
                  if (r in e) return (n.value = r), (n.done = !1), n;
                }
                return (n.done = !0), n;
              }
            );
          }),
          (e.values = P),
          (k.prototype = {
            constructor: k,
            reset: function(e) {
              if (
                ((this.prev = 0),
                (this.next = 0),
                (this.sent = this._sent = void 0),
                (this.done = !1),
                (this.delegate = null),
                (this.method = 'next'),
                (this.arg = void 0),
                this.tryEntries.forEach(E),
                !e)
              )
                for (var t in this)
                  't' === t.charAt(0) &&
                    n.call(this, t) &&
                    !isNaN(+t.slice(1)) &&
                    (this[t] = void 0);
            },
            stop: function() {
              this.done = !0;
              var e = this.tryEntries[0].completion;
              if ('throw' === e.type) throw e.arg;
              return this.rval;
            },
            dispatchException: function(e) {
              if (this.done) throw e;
              var t = this;
              function r(n, r) {
                return (
                  (i.type = 'throw'),
                  (i.arg = e),
                  (t.next = n),
                  r && ((t.method = 'next'), (t.arg = void 0)),
                  !!r
                );
              }
              for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                var a = this.tryEntries[o],
                  i = a.completion;
                if ('root' === a.tryLoc) return r('end');
                if (a.tryLoc <= this.prev) {
                  var l = n.call(a, 'catchLoc'),
                    c = n.call(a, 'finallyLoc');
                  if (l && c) {
                    if (this.prev < a.catchLoc) return r(a.catchLoc, !0);
                    if (this.prev < a.finallyLoc) return r(a.finallyLoc);
                  } else if (l) {
                    if (this.prev < a.catchLoc) return r(a.catchLoc, !0);
                  } else {
                    if (!c)
                      throw new Error('try statement without catch or finally');
                    if (this.prev < a.finallyLoc) return r(a.finallyLoc);
                  }
                }
              }
            },
            abrupt: function(e, t) {
              for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                var o = this.tryEntries[r];
                if (
                  o.tryLoc <= this.prev &&
                  n.call(o, 'finallyLoc') &&
                  this.prev < o.finallyLoc
                ) {
                  var a = o;
                  break;
                }
              }
              a &&
                ('break' === e || 'continue' === e) &&
                a.tryLoc <= t &&
                t <= a.finallyLoc &&
                (a = null);
              var i = a ? a.completion : {};
              return (
                (i.type = e),
                (i.arg = t),
                a
                  ? ((this.method = 'next'), (this.next = a.finallyLoc), s)
                  : this.complete(i)
              );
            },
            complete: function(e, t) {
              if ('throw' === e.type) throw e.arg;
              return (
                'break' === e.type || 'continue' === e.type
                  ? (this.next = e.arg)
                  : 'return' === e.type
                  ? ((this.rval = this.arg = e.arg),
                    (this.method = 'return'),
                    (this.next = 'end'))
                  : 'normal' === e.type && t && (this.next = t),
                s
              );
            },
            finish: function(e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.finallyLoc === e)
                  return this.complete(n.completion, n.afterLoc), E(n), s;
              }
            },
            catch: function(e) {
              for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                var n = this.tryEntries[t];
                if (n.tryLoc === e) {
                  var r = n.completion;
                  if ('throw' === r.type) {
                    var o = r.arg;
                    E(n);
                  }
                  return o;
                }
              }
              throw new Error('illegal catch attempt');
            },
            delegateYield: function(e, t, n) {
              return (
                (this.delegate = { iterator: P(e), resultName: t, nextLoc: n }),
                'next' === this.method && (this.arg = void 0),
                s
              );
            },
          }),
          e
        );
      })(e.exports);
      try {
        regeneratorRuntime = t;
      } catch (e) {
        Function('r', 'regeneratorRuntime = r')(t);
      }
    })((y = { exports: {} })),
    y.exports),
  w = {};
function b(e, t) {
  if (null == t) return e;
  switch (typeof t) {
    case 'function':
      return t(e);
    case 'object':
      return t[e];
    default:
      return e[t];
  }
}
var E,
  k = a.createElement(i.Icon, { name: 'filter' }),
  P = function(e) {
    return e.stopPropagation();
  },
  S = { paddingBottom: 0, paddingTop: 0 },
  x = [],
  I = { startDate: '', endDate: '' },
  O = [
    { text: 'Is equal to', value: '=' },
    { text: 'Is not equal to', value: '!=' },
    { text: 'Is greater than or equal to', value: '>=' },
    { text: 'Is greater than', value: '>' },
    { text: 'Is less than or equal to', value: '<=' },
    { text: 'Is less than', value: '<' },
    { text: 'Is null', value: 'null' },
    { text: 'Is not null', value: '!null' },
  ];
!(function(e) {
  (e.equals = '='),
    (e.notEquals = '!='),
    (e.greaterOrEqual = '>='),
    (e.greater = '>'),
    (e.lessOrEqual = '<='),
    (e.less = '<'),
    (e.null = 'null'),
    (e.notNull = '!null'),
    (e.contains = 'contains'),
    (e.notContains = '!contains'),
    (e.starts = 'starts'),
    (e.ends = 'ends'),
    (e.empty = 'empty'),
    (e.notEmpty = '!empty');
})(E || (E = {}));
var D,
  A = { null: !0, '!null': !0, empty: !0, '!empty': !0 };
!(function(e) {
  (e.and = '&&'), (e.or = '||');
})(D || (D = {}));
var T = [
    { text: 'And', value: D.and },
    { text: 'Or', value: D.or },
  ],
  N = { combination: D.and, comparison: E.equals, value: '' },
  B = function(e) {
    return A[e.comparison] || e.value;
  };
function M(e, t, r) {
  var a = o.useState(e),
    i = a[0],
    l = a[1],
    c = o.useRef(i);
  return (
    o.useEffect(
      function() {
        c.current = i;
      },
      [i],
    ),
    {
      handleAdd: o.useCallback(
        function(e) {
          l(function(e) {
            return n(e, { $push: [r] });
          });
        },
        [r],
      ),
      handleChange: o.useCallback(function(e, t) {
        var r = t.value,
          o = t.name,
          a = t['data-idx'];
        e.stopPropagation(),
          l(function(e) {
            var t, i;
            return n(e, (((i = {})[a] = (((t = {})[o] = { $set: r }), t)), i));
          });
      }, []),
      handleClear: o.useCallback(
        function() {
          l([r]), t();
        },
        [t, r],
      ),
      handleFilter: o.useCallback(
        function() {
          c.current.some(B) ? t(c.current) : t();
        },
        [t],
      ),
      handleOpen: o.useCallback(
        function() {
          e.some(B) && l(e);
        },
        [e],
      ),
      handleRemove: o.useCallback(function(e, t) {
        var r = t['data-idx'];
        l(function(e) {
          return n(e, { $splice: [[r, 1]] });
        });
      }, []),
      selectedOpts: i,
    }
  );
}
var V = a.memo(function(e) {
    var t,
      n = e.onChange,
      r = f(e, ['onChange']),
      o = M(null != (t = r.selectedOpts) ? t : [N], n, N),
      l = o.selectedOpts.map(function(e, t) {
        var n =
          t > 0
            ? a.createElement(i.Dropdown, {
                'data-idx': t,
                name: 'combination',
                options: T,
                selection: !0,
                value: e.combination,
                onChange: o.handleChange,
                className: 'combination',
                compact: !0,
              })
            : null;
        return a.createElement(
          'div',
          { className: 'filter', key: t },
          t > 0 &&
            ('&&' === e.combination
              ? n
              : a.createElement(i.Divider, { horizontal: !0 }, n)),
          a.createElement(
            'div',
            { className: 'values' },
            a.createElement(
              'div',
              null,
              a.createElement(i.Dropdown, {
                'data-idx': t,
                name: 'comparison',
                options: O,
                selection: !0,
                value: e.comparison,
                onChange: o.handleChange,
              }),
              !A[e.comparison] &&
                a.createElement(i.Input, {
                  'data-idx': t,
                  name: 'value',
                  type: 'number',
                  step: 'any',
                  value: e.value,
                  onChange: o.handleChange,
                }),
            ),
            a.createElement(i.Button, {
              icon: { name: 'minus', color: 'red' },
              compact: !0,
              disabled: 0 === t,
              onClick: o.handleRemove,
              'data-idx': t,
            }),
          ),
        );
      });
    return a.createElement(
      i.Popup,
      {
        position: 'bottom center',
        trigger: a.createElement('span', { onClick: P }, r.trigger),
        className: 'ComparisonFilterPopup',
        on: 'click',
        onOpen: o.handleOpen,
        onClick: P,
      },
      a.createElement(
        i.Popup.Content,
        { className: 'ComparisonFilter' },
        l,
        a.createElement(
          i.Divider,
          { horizontal: !0 },
          a.createElement(i.Button, {
            className: 'add',
            icon: { name: 'plus circle', color: 'green', size: 'large' },
            compact: !0,
            onClick: o.handleAdd,
          }),
        ),
        a.createElement(
          i.Button.Group,
          {
            fluid: !0,
            widths: 2,
            style: { position: 'sticky', bottom: '0px' },
          },
          a.createElement(
            i.Button,
            { positive: !0, onClick: o.handleFilter },
            'Filter',
          ),
          a.createElement(
            i.Button,
            { negative: !0, onClick: o.handleClear },
            'Clear',
          ),
        ),
      ),
    );
  }),
  G = [
    { text: 'Is equal to', value: E.equals },
    { text: 'Is not equal to', value: E.notEquals },
    { text: 'Contains', value: E.contains },
    { text: 'Does not Contain', value: E.notContains },
    { text: 'Starts with', value: E.starts },
    { text: 'Ends with', value: E.ends },
    { text: 'Is null', value: E.null },
    { text: 'Is not null', value: E.notNull },
    { text: 'Is empty', value: E.empty },
    { text: 'Is not empty', value: E.notEmpty },
  ],
  R = { combination: D.and, comparison: E.contains, value: '' },
  F = {
    multiFilter: {
      filter: function(e, t, n) {
        return (
          !n ||
          0 === n.length ||
          !(Array.isArray(e[t]) ? e[t] : [e[t]]).every(function(e) {
            return !n.includes(e);
          })
        );
      },
      component: function(e) {
        var t = e.selectedOpts,
          n = void 0 === t ? x : t,
          r = e.data,
          l = e.field,
          u = e.onChange,
          s = e.accessor,
          d = e.trigger,
          p = void 0 === d ? k : d,
          m = f(e, [
            'selectedOpts',
            'data',
            'field',
            'onChange',
            'accessor',
            'trigger',
          ]),
          g = o.useState(''),
          h = g[0],
          v = g[1],
          y = o.useState(0),
          C = y[0],
          w = y[1],
          E = o.useMemo(
            function() {
              return Array.from(
                new Set(
                  r
                    .flatMap(function(e) {
                      return e[l];
                    })
                    .map(function(e) {
                      return '' + e;
                    }),
                ),
              ).sort();
            },
            [r, l],
          ),
          I = o.useRef(null),
          O = o.useMemo(
            function() {
              if (C) return [];
              var e = E,
                t = h.trim().toLowerCase();
              return t
                ? e.filter(function(e) {
                    return e
                      .toLowerCase()
                      .trim()
                      .includes(t);
                  })
                : e;
            },
            [E, h, C],
          ),
          D = o.useMemo(
            function() {
              if (!C) return [];
              var e = n,
                t = h.trim().toLowerCase();
              return t
                ? e.filter(function(e) {
                    return e
                      .toLowerCase()
                      .trim()
                      .includes(t);
                  })
                : e;
            },
            [h, n, C],
          ),
          A = C ? D : O,
          T = o.useMemo(
            function() {
              return Object.fromEntries(
                n.map(function(e) {
                  return [e, !0];
                }),
              );
            },
            [n],
          );
        o.useEffect(
          function() {
            var e;
            A.length > 300 && (null == (e = I.current) || e.forceUpdateGrid());
          },
          [A.length],
        );
        var N = function(e, t) {
          e.stopPropagation();
          var r = n.includes(t.value),
            o = n;
          (o = r
            ? o.filter(function(e) {
                return e !== t.value;
              })
            : o.concat(t.value)),
            u(o.length ? o : void 0);
        };
        return a.createElement(
          i.Popup,
          {
            position: 'bottom center',
            trigger: a.createElement('span', { onClick: P }, p),
            className: 'MultiFilterPopup',
            on: 'click',
            onClick: P,
            popperDependencies: [A.length],
          },
          a.createElement(
            i.Popup.Content,
            { className: 'Filter MultiFilter' },
            a.createElement(i.Tab, {
              panes: [
                { menuItem: 'All', pane: a.createElement('div', null) },
                {
                  menuItem:
                    'Selected ' + (n.length ? '(' + n.length + ')' : ''),
                  pane: a.createElement('div', null),
                },
              ],
              activeIndex: C,
              onTabChange: function(e, t) {
                return w(t.activeIndex);
              },
            }),
            a.createElement(
              'div',
              { className: ' dropdown ui' },
              a.createElement(
                'div',
                {
                  className: 'menu transition visible',
                  style: { position: 'unset' },
                },
                a.createElement(i.Input, {
                  icon: 'search',
                  iconPosition: 'left',
                  className: 'search',
                  placeholder: 'search',
                  value: h,
                  onChange: function(e, t) {
                    return v(t.value);
                  },
                  onClick: P,
                  action: {
                    color: 'red',
                    icon: { name: 'x', style: S },
                    onClick: function() {
                      return v('');
                    },
                    title: 'Clear Search',
                    style: S,
                  },
                }),
                A.length > 300 &&
                  a.createElement(c.List, {
                    ref: I,
                    height: 215,
                    rowCount: A.length,
                    rowHeight: 36,
                    rowRenderer: function(e) {
                      var t = A[e.index];
                      return a.createElement(
                        i.Dropdown.Item,
                        {
                          className: 'dropdownItem',
                          key: e.key,
                          value: t,
                          onClick: N,
                          style: e.style,
                        },
                        T[t] &&
                          a.createElement(i.Icon, {
                            color: 'green',
                            name: 'checkmark',
                          }),
                        b(t, s),
                      );
                    },
                    width: 400,
                    autoContainerWidth: !0,
                    className: 'dropdownMenu',
                  }),
                A.length <= 300 &&
                  a.createElement(
                    i.Dropdown.Menu,
                    {
                      scrolling: !0,
                      style: { maxWidth: '25vw', maxHeight: '215px' },
                    },
                    A.map(function(e, t) {
                      return a.createElement(
                        i.Dropdown.Item,
                        { key: t, value: e, onClick: N },
                        T[e] &&
                          a.createElement(i.Icon, {
                            color: 'green',
                            name: 'checkmark',
                          }),
                        b(e, s),
                      );
                    }),
                  ),
                a.createElement(
                  i.Button.Group,
                  { fluid: !0, widths: 2 },
                  a.createElement(
                    i.Button,
                    {
                      disabled: A.length > 500 || !!C,
                      title:
                        O.length > 500
                          ? 'Disabled due to large number of options'
                          : void 0,
                      positive: !0,
                      onClick: function(e) {
                        e.stopPropagation(),
                          u(Array.from(new Set([].concat(A, n)))),
                          m.clearSearchOnSelectOrClearAll && v('');
                      },
                    },
                    'Select All',
                  ),
                  a.createElement(
                    i.Button,
                    {
                      negative: !0,
                      onClick: function(e) {
                        e.stopPropagation();
                        var t = n.filter(function(e) {
                          return !A.includes(e);
                        });
                        u(t.length ? t : void 0),
                          m.clearSearchOnSelectOrClearAll && v('');
                      },
                    },
                    'Clear',
                  ),
                ),
              ),
            ),
          ),
        );
      },
    },
    remoteMultiFilter: {
      filter: function(e, t, n) {
        return (
          !n ||
          0 === n.length ||
          !(Array.isArray(e[t]) ? e[t] : [e[t]]).every(function(e) {
            return !n.includes(e);
          })
        );
      },
      component: function(e) {
        var t = e.selectedOpts,
          n = void 0 === t ? x : t,
          r = e.data,
          l = e.field,
          s = e.onChange,
          d = e.accessor,
          m = e.trigger,
          g = void 0 === m ? k : m,
          h = e.useLocal,
          v = f(e, [
            'selectedOpts',
            'data',
            'field',
            'onChange',
            'accessor',
            'trigger',
            'useLocal',
          ]),
          y = o.useState(''),
          C = y[0],
          E = y[1],
          I = o.useState(0),
          O = I[0],
          D = I[1],
          A = o.useState(!1),
          T = A[0],
          N = A[1],
          B = (function(e, t, n) {
            void 0 === n && (n = {});
            var r = o.useMemo(function() {
                return function(e, t) {
                  switch (t.type) {
                    case 'loading':
                      return p({}, e, { error: void 0, loading: !0 });
                    case 'error':
                      return p({}, e, { error: t.payload, loading: !1 });
                    case 'data':
                      return p({}, e, {
                        error: void 0,
                        loading: !1,
                        data: t.payload,
                      });
                    case 'noRun':
                      return p({}, e, { error: void 0, loading: !1 });
                    default:
                      return e;
                  }
                };
              }, []),
              a = o.useReducer(r, { loading: !0, error: {} }),
              i = a[0],
              l = a[1],
              c = o.useReducer(function(e) {
                return e + 1;
              }, 0),
              s = c[1],
              d = n.processData,
              m = n.onError,
              f = n.withCredentials,
              g = n.deps,
              h = void 0 === g ? [] : g,
              v = n.runIf,
              y = n.cacheKey;
            return (
              o.useEffect(function() {
                if (!v || v()) {
                  var n,
                    r = e + '‌' + y + '‌' + h.join('‌');
                  if (y && w[r]) {
                    var o = w[r];
                    return (
                      (o = d ? d(o) : o), void l({ type: 'data', payload: o })
                    );
                  }
                  return (
                    l({ type: 'loading' }),
                    u
                      .get(e, {
                        withCredentials: f,
                        params: t,
                        cancelToken: new u.CancelToken(function(e) {
                          return (n = e);
                        }),
                      })
                      .then(
                        function(e) {
                          y && (w[r] = e.data);
                          var t = d ? d(e.data) : e.data;
                          l({ type: 'data', payload: t });
                        },
                        function(e) {
                          u.isCancel(e) ||
                            (l({ type: 'error', payload: e }), m && m(e));
                        },
                      ),
                    n
                  );
                }
                l({ type: 'noRun' });
              }, [].concat(h, [c[0]])),
              p({}, i, { trigger: s })
            );
          })(v.remoteUrl, v.remoteParams, {
            runIf: function() {
              return v.prefetch || T;
            },
            processData: function(e) {
              return e
                .map(function(e) {
                  return '' + e;
                })
                .sort();
            },
          }),
          M = B.data,
          V = void 0 === M ? x : M,
          G = B.loading,
          R = B.trigger;
        o.useEffect(
          function() {
            v.prefetch || R();
          },
          [T, R, v.prefetch],
        );
        var F = o.useMemo(
            function() {
              return h
                ? Array.from(
                    new Set(
                      r
                        .flatMap(function(e) {
                          return e[l];
                        })
                        .map(function(e) {
                          return '' + e;
                        }),
                    ),
                  ).sort()
                : x;
            },
            [r, h, l],
          ),
          q = o.useMemo(
            function() {
              return F.length ? Array.from(new Set([].concat(V, F))).sort() : V;
            },
            [V, F],
          ),
          L = o.useRef(null),
          j = o.useMemo(
            function() {
              if (O) return [];
              var e = q,
                t = C.trim().toLowerCase();
              return t
                ? e.filter(function(e) {
                    return e
                      .toLowerCase()
                      .trim()
                      .includes(t);
                  })
                : e;
            },
            [q, C, O],
          ),
          Q = o.useMemo(
            function() {
              if (!O) return [];
              var e = n,
                t = C.trim().toLowerCase();
              return t
                ? e.filter(function(e) {
                    return e
                      .toLowerCase()
                      .trim()
                      .includes(t);
                  })
                : e;
            },
            [C, n, O],
          ),
          H = O ? Q : j,
          U = o.useMemo(
            function() {
              return Object.fromEntries(
                n.map(function(e) {
                  return [e, !0];
                }),
              );
            },
            [n],
          );
        o.useEffect(
          function() {
            var e;
            H.length > 300 && (null == (e = L.current) || e.forceUpdateGrid());
          },
          [H.length],
        );
        var z = function(e, t) {
          e.stopPropagation();
          var r = n.includes(t.value),
            o = n;
          (o = r
            ? o.filter(function(e) {
                return e !== t.value;
              })
            : o.concat(t.value)),
            s(o.length ? o : void 0);
        };
        return a.createElement(
          i.Popup,
          {
            position: 'bottom center',
            trigger: a.createElement('span', { onClick: P }, g),
            className: 'MultiFilterPopup',
            on: 'click',
            onOpen: function() {
              return N(!0);
            },
            onClick: P,
            popperDependencies: [H.length],
          },
          a.createElement(
            i.Popup.Content,
            { className: 'Filter MultiFilter' },
            a.createElement(i.Loader, { active: G }),
            a.createElement(i.Tab, {
              panes: [
                { menuItem: 'All', pane: a.createElement('div', null) },
                {
                  menuItem:
                    'Selected ' + (n.length ? '(' + n.length + ')' : ''),
                  pane: a.createElement('div', null),
                },
              ],
              activeIndex: O,
              onTabChange: function(e, t) {
                return D(t.activeIndex);
              },
            }),
            a.createElement(
              'div',
              { className: ' dropdown ui' },
              a.createElement(
                'div',
                {
                  className: 'menu transition visible',
                  style: { position: 'unset' },
                },
                a.createElement(i.Input, {
                  icon: 'search',
                  iconPosition: 'left',
                  className: 'search',
                  placeholder: 'search',
                  value: C,
                  onChange: function(e, t) {
                    return E(t.value);
                  },
                  onClick: P,
                  action: {
                    color: 'red',
                    icon: { name: 'x', style: S },
                    onClick: function() {
                      return E('');
                    },
                    title: 'Clear Search',
                    style: S,
                  },
                }),
                H.length > 300 &&
                  a.createElement(c.List, {
                    ref: L,
                    height: 215,
                    rowCount: H.length,
                    rowHeight: 36,
                    rowRenderer: function(e) {
                      var t = H[e.index];
                      return a.createElement(
                        i.Dropdown.Item,
                        {
                          className: 'dropdownItem',
                          key: e.key,
                          value: t,
                          onClick: z,
                          style: e.style,
                        },
                        U[t] &&
                          a.createElement(i.Icon, {
                            color: 'green',
                            name: 'checkmark',
                          }),
                        b(t, d),
                      );
                    },
                    width: 400,
                    autoContainerWidth: !0,
                    className: 'dropdownMenu',
                  }),
                H.length <= 300 &&
                  a.createElement(
                    i.Dropdown.Menu,
                    {
                      scrolling: !0,
                      style: { maxWidth: '25vw', maxHeight: '215px' },
                    },
                    H.map(function(e, t) {
                      return a.createElement(
                        i.Dropdown.Item,
                        { key: t, value: e, onClick: z },
                        U[e] &&
                          a.createElement(i.Icon, {
                            color: 'green',
                            name: 'checkmark',
                          }),
                        b(e, d),
                      );
                    }),
                  ),
                a.createElement(
                  i.Button.Group,
                  { fluid: !0, widths: 2 },
                  a.createElement(
                    i.Button,
                    {
                      disabled: H.length > 500 || !!O,
                      title:
                        j.length > 500
                          ? 'Disabled due to large number of options'
                          : void 0,
                      positive: !0,
                      onClick: function(e) {
                        e.stopPropagation(),
                          s(Array.from(new Set([].concat(H, n)))),
                          v.clearSearchOnSelectOrClearAll && E('');
                      },
                    },
                    'Select All',
                  ),
                  a.createElement(
                    i.Button,
                    {
                      negative: !0,
                      onClick: function(e) {
                        e.stopPropagation();
                        var t = n.filter(function(e) {
                          return !H.includes(e);
                        });
                        s(t.length ? t : void 0),
                          v.clearSearchOnSelectOrClearAll && E('');
                      },
                    },
                    'Clear',
                  ),
                ),
              ),
            ),
          ),
        );
      },
    },
    dateFilter: {
      filter: function(e, t, n) {
        if (!n) return !0;
        var r = n.startDate,
          o = n.endDate,
          a = new Date(e[t]).toISOString().slice(0, 10);
        return !(
          (r && a <= new Date(r).toISOString().slice(0, 10)) ||
          (o && a >= new Date(o).toISOString().slice(0, 10))
        );
      },
      component: function(e) {
        var t = e.selectedOpts,
          n = void 0 === t ? I : t,
          o = e.trigger,
          l = function(t, o) {
            var a,
              i = o.value,
              l = o.name;
            t.stopPropagation();
            var c = p({}, n, (((a = {})[l] = i), a));
            r.some(c, Boolean)
              ? null == e.onChange || e.onChange(c)
              : null == e.onChange || e.onChange();
          },
          c = n.startDate,
          u = n.endDate;
        return a.createElement(
          i.Popup,
          {
            position: 'bottom center',
            trigger: a.createElement(
              'span',
              { onClick: P },
              void 0 === o ? k : o,
            ),
            className: 'DateFilterDropdown',
            on: 'click',
            onClick: P,
          },
          a.createElement(
            i.Popup.Content,
            { className: 'Filter DateFilter' },
            a.createElement(i.Input, {
              onClick: P,
              icon: {
                name: 'x',
                style: { pointerEvents: 'all' },
                onClick: function(e) {
                  l(e, { value: '', name: 'startDate' });
                },
                'aria-label': 'Clear',
              },
              label: { content: 'From:', color: 'blue', htmlFor: 'startDate' },
              labelPosition: 'left',
              type: 'date',
              fluid: !0,
              style: { cursor: 'pointer' },
              value: c,
              name: 'startDate',
              onChange: l,
            }),
            a.createElement(i.Input, {
              onClick: P,
              icon: {
                name: 'x',
                style: { pointerEvents: 'all' },
                onClick: function(e) {
                  l(e, { value: '', name: 'endDate' });
                },
                'aria-label': 'Clear',
              },
              label: { content: 'Until:', color: 'blue', htmlFor: 'endDate' },
              labelPosition: 'left',
              type: 'date',
              fluid: !0,
              style: { cursor: 'pointer' },
              value: u,
              name: 'endDate',
              onChange: l,
            }),
          ),
        );
      },
    },
    numericFilter: { filter: L(j), component: V },
    alphanumericFilter: {
      filter: L(Q),
      component: function(e) {
        var t,
          n = e.onChange,
          r = f(e, ['onChange']),
          o = M(null != (t = r.selectedOpts) ? t : [R], n, R),
          l = o.selectedOpts.map(function(e, t) {
            var n =
              t > 0
                ? a.createElement(i.Dropdown, {
                    'data-idx': t,
                    name: 'combination',
                    options: T,
                    selection: !0,
                    value: e.combination,
                    onChange: o.handleChange,
                    className: 'combination',
                    compact: !0,
                  })
                : null;
            return a.createElement(
              'div',
              { className: 'filter', key: t },
              t > 0 &&
                ('&&' === e.combination
                  ? n
                  : a.createElement(i.Divider, { horizontal: !0 }, n)),
              a.createElement(
                'div',
                { className: 'values' },
                a.createElement(
                  'div',
                  null,
                  a.createElement(i.Dropdown, {
                    'data-idx': t,
                    name: 'comparison',
                    options: G,
                    selection: !0,
                    value: e.comparison,
                    onChange: o.handleChange,
                  }),
                  !A[e.comparison] &&
                    a.createElement(i.Input, {
                      'data-idx': t,
                      name: 'value',
                      value: e.value,
                      onChange: o.handleChange,
                    }),
                ),
                a.createElement(i.Button, {
                  icon: { name: 'minus', color: 'red' },
                  compact: !0,
                  disabled: 0 === t,
                  onClick: o.handleRemove,
                  'data-idx': t,
                }),
              ),
            );
          });
        return a.createElement(
          i.Popup,
          {
            position: 'bottom center',
            trigger: a.createElement('span', { onClick: P }, r.trigger),
            className: 'ComparisonFilterPopup',
            on: 'click',
            onOpen: o.handleOpen,
            onClick: P,
          },
          a.createElement(
            i.Popup.Content,
            { className: 'ComparisonFilter' },
            l,
            a.createElement(
              i.Divider,
              { horizontal: !0 },
              a.createElement(i.Button, {
                className: 'add',
                icon: { name: 'plus circle', color: 'green', size: 'large' },
                compact: !0,
                onClick: o.handleAdd,
              }),
            ),
            a.createElement(
              i.Button.Group,
              {
                fluid: !0,
                widths: 2,
                style: { position: 'sticky', bottom: '0px' },
              },
              a.createElement(
                i.Button,
                { positive: !0, onClick: o.handleFilter },
                'Filter',
              ),
              a.createElement(
                i.Button,
                { negative: !0, onClick: o.handleClear },
                'Clear',
              ),
            ),
          ),
        );
      },
    },
  },
  q = { null: !0, '!null': !0, empty: !0, '!empty': !0 };
function L(e) {
  return function(t, n, r) {
    if (!r) return !0;
    for (var o, a = !0, i = !1, l = h(r); !(o = l()).done; ) {
      var c = o.value;
      if ('||' === c.combination) {
        if (a && i) break;
        (a = !0), (i = !1);
      } else if (!1 === a) continue;
      (q[c.comparison] || c.value) &&
        ((i = !0), e(c.comparison, t[n], c.value) || (a = !1));
    }
    return i && a;
  };
}
function j(e, t, n) {
  switch (e) {
    case '=':
      return t == n;
    case '!=':
      return t != n;
    case '>=':
      return t >= n;
    case '>':
      return t > n;
    case '<=':
      return t <= n;
    case '<':
      return t < n;
    case 'null':
      return null == t;
    case '!null':
      return null != t;
    default:
      return !0;
  }
}
function Q(e, t, n) {
  var r = String(t).toUpperCase(),
    o = String(n).toUpperCase();
  switch (e) {
    case '=':
      return r === o;
    case '!=':
      return r !== o;
    case 'contains':
      return r.includes(o);
    case '!contains':
      return !r.includes(o);
    case 'starts':
      return r.startsWith(o);
    case 'ends':
      return r.endsWith(o);
    case 'null':
      return null == t;
    case '!null':
      return null != t;
    case 'empty':
      return '' === r;
    case '!empty':
      return '' !== r;
    default:
      return !0;
  }
}
function H(e) {
  var t = o.useRef(e);
  return (
    o.useEffect(function() {
      t.current = e;
    }),
    t
  );
}
function U(e, t, n) {
  var r,
    o,
    a = null == (r = _[n || '']) ? void 0 : r.accessor;
  switch (
    ('object' == typeof t
      ? ((o = t.field), t.accessor && (a = t.accessor))
      : (o = t),
    typeof a)
  ) {
    case 'function':
      return a(e, o);
    case 'object':
      return a[e[o]];
    default:
      return e[a || o];
  }
}
function z(e) {
  if (null === e) return e;
  switch (typeof e) {
    case 'object':
      return e.field;
    default:
      return e;
  }
}
var _ = {
  number: {
    sortAccessor: function(e, t) {
      return Number(e[t]);
    },
    groupAccessor: function(e, t) {
      return '#' + e[t];
    },
  },
  date: {
    accessor: function(e, t) {
      if (e[t]) {
        var n = l(new Date(e[t]));
        return n.isValid() ? n : void 0;
      }
    },
    sortAccessor: function(e, t) {
      return e[t] && new Date(e[t]).toISOString().slice(0, 10);
    },
    groupAccessor: function(e, t) {
      return e[t] && l(new Date(e[t])).format('D/MMM/Y');
    },
    exportTemplate: function(e) {
      return e ? e.format('D/MMM/Y') : 'N/A';
    },
    template: function(e) {
      return e ? e.format('D/MMM/Y') : 'N/A';
    },
  },
  datetime: {
    accessor: function(e, t) {
      if (e[t]) {
        var n = l(new Date(e[t]));
        return n.isValid() ? n : void 0;
      }
    },
    sortAccessor: function(e, t) {
      return e[t] && new Date(e[t]);
    },
    groupAccessor: function(e, t) {
      return e[t] && l(new Date(e[t])).format('D/MMM/Y');
    },
    exportTemplate: function(e) {
      return e ? e.format('D/MMM/Y HH:mm:ss') : 'N/A';
    },
    template: function(e) {
      return e ? e.format('D/MMM/Y HH:mm:ss') : 'N/A';
    },
  },
};
function Y(e, t) {
  var n,
    r,
    o = null == (n = _[t || '']) ? void 0 : n.sortAccessor;
  switch (
    ('object' == typeof e
      ? ((r = e.field), e.sortAccessor && (o = e.sortAccessor))
      : (r = e),
    typeof o)
  ) {
    case 'function':
      var a = o;
      return function(e) {
        return a(e, r);
      };
    case 'object':
      var i = o;
      return function(e) {
        return i[e[r]];
      };
    default:
      var l = o || r;
      return function(e) {
        var t = e[l];
        return Array.isArray(t) ? t.toString() : t;
      };
  }
}
var K = [
    { text: '5', value: 5 },
    { text: '10', value: 10 },
    { text: '15', value: 15 },
    { text: '30', value: 30 },
    { text: '45', value: 45 },
    { text: '60', value: 60 },
    { text: '75', value: 75 },
    { text: '100', value: 100 },
    { text: '250', value: 250 },
    { text: '500', value: 500 },
    { text: '1000', value: 1e3 },
  ],
  W = function() {
    return {};
  },
  X = [],
  Z = a.createElement(
    i.Icon.Group,
    null,
    a.createElement(i.Icon, { name: 'filter', color: 'blue' }),
    a.createElement(i.Icon, { corner: !0, name: 'asterisk', color: 'blue' }),
  ),
  J = a.createElement(i.Icon, { name: 'filter' });
function $(e) {
  var t = o.useState(!1),
    n = t[0],
    l = t[1],
    c = o.useState(e.generalSearch),
    u = c[0],
    s = c[1];
  o.useEffect(
    function() {
      s(e.generalSearch);
    },
    [e.generalSearch],
  );
  var d = e.onGeneralSearch,
    p = o.useMemo(
      function() {
        return r.debounce(function(e) {
          null == d || d(e);
        }, e.generalSearchDebounceTime);
      },
      [d, e.generalSearchDebounceTime],
    ),
    m = o.useRef(e.generalSearch);
  (m.current = e.generalSearch),
    o.useEffect(
      function() {
        m.current !== u && p(u);
      },
      [u, p],
    );
  var f = e.columns,
    g = e.grouping,
    h = o.useMemo(
      function() {
        return r.sortBy(f, 'title');
      },
      [f],
    ),
    v = n
      ? h.map(function(t) {
          return a.createElement(
            i.Dropdown.Item,
            {
              key: t.id,
              onClick: function(n) {
                n.stopPropagation(),
                  null == e.onColumnVisibilityToggle ||
                    e.onColumnVisibilityToggle(t.id);
              },
            },
            !t.hidden &&
              a.createElement(i.Icon, { color: 'green', name: 'checkmark' }),
            t.title,
          );
        })
      : null,
    y = g.map(function(t) {
      var n = t.colId,
        r = f.find(function(e) {
          return e.id === t.colId;
        }),
        o = a.createElement(
          i.Icon,
          'asc' === t.sortOrder
            ? { name: 'long arrow alternate up' }
            : { name: 'long arrow alternate down' },
        );
      return a.createElement(
        i.Button.Group,
        {
          key: n,
          inverted: !0,
          size: 'mini',
          compact: !0,
          style: { marginRight: '10px' },
        },
        a.createElement(
          i.Button,
          {
            inverted: !0,
            size: 'mini',
            compact: !0,
            onClick: function() {
              return (function(t) {
                var n = { asc: 'desc', desc: 'asc' };
                null == e.onGroupChange ||
                  e.onGroupChange(
                    g.map(function(e) {
                      return e.colId === t
                        ? { colId: e.colId, sortOrder: n[e.sortOrder] }
                        : e;
                    }),
                  );
              })(n);
            },
          },
          o,
          (null == r ? void 0 : r.title) || n,
        ),
        a.createElement(
          i.Button,
          {
            inverted: !0,
            size: 'mini',
            compact: !0,
            color: 'red',
            basic: !0,
            onClick: function() {
              return (function(t) {
                null == e.onGroupChange ||
                  e.onGroupChange(
                    g.filter(function(e) {
                      return e.colId !== t;
                    }),
                  );
              })(n);
            },
          },
          'X',
        ),
      );
    });
  return a.createElement(
    i.Table,
    {
      compact: 'very',
      size: 'small',
      style: { marginBottom: 0, paddingBottom: 0 },
    },
    a.createElement(
      i.Table.Header,
      null,
      (e.onGeneralSearch ||
        e.onColumnVisibilityToggle ||
        e.extraHeaderItem ||
        e.exportBaseName) &&
        a.createElement(
          i.Table.Row,
          null,
          a.createElement(
            i.Table.HeaderCell,
            {
              style: { backgroundColor: '#1678C2', color: 'white' },
              className: 'QHGrid--header',
            },
            e.onGeneralSearch &&
              a.createElement(i.Input, {
                className: 'QHGrid--generalSearch',
                icon: 'search',
                iconPosition: 'left',
                placeholder: 'Search...',
                value: u,
                onChange: function(e, t) {
                  return s(t.value);
                },
                action: {
                  color: 'red',
                  icon: 'x',
                  onClick: function() {
                    return s('');
                  },
                  title: 'Clear Search',
                },
              }),
            e.onColumnVisibilityToggle &&
              a.createElement(
                i.Dropdown,
                {
                  scrolling: !0,
                  trigger: a.createElement(
                    i.Button,
                    { inverted: !0 },
                    a.createElement(i.Icon, { name: 'columns' }),
                    'Columns',
                  ),
                  icon: null,
                  open: n,
                  onOpen: function() {
                    return l(!0);
                  },
                  onClose: function() {
                    return l(!1);
                  },
                  name: 'column',
                },
                a.createElement(i.Dropdown.Menu, null, v),
              ),
            e.extraHeaderItem,
            !e.loading &&
              !!e.exportBaseName &&
              a.createElement(i.Image, {
                src:
                  'data:image/webp;base64,UklGRrYCAABXRUJQVlA4WAoAAAAQAAAAIgAAIgAAQUxQSIoAAAANcFpt27K8P5qo7u7wZGYgkhiCLZiATCW5jWDR3YlM4KT/fL8mUkRMAKm1Gfq+BBo/AOipWRHHmASQJNGNWQB+Yo7kmaY9okSZBMcLTJnSmKR332Tw330jWhYBxHRMqyrTjIieg8lkco4CSJv4tjUmxsdiMpkszABgJ0l/x8lkMvkgJwX/ffKSTkxWUDggBgIAAFAKAJ0BKiMAIwA+USCNRCOiIRccBZg4BQSyC8AA/78XUZqZ+IB6wGmZ8sB8GUsxx2/6X+QHpf/OWHHf0n3M+276AC9vjjuJedH4dU8PX6wcy161gSu1AZTYmgAA/vQZkRb1eznLfFZOpFT7zmzrr3/x2sflg9BPWFnUaQVqKd4IoGt2IrvFm/2gda5PT+Qk7x9J3tf1oY/9D64RNOVjgJt4H3FFLzDck4mvA/1hA0y/AYEL2y9yAZ3Ozv/9AnbS4jv+Wav+sLC/3sX6p/7E3JsbtiEHoGG8h//6BXI+BwmeKqmai99NN5v3r3L1MVLmK/R1Xsukcho2hTrm09nuPg9CEAoNH47/hGv3ILW/PiG0w1gTxhKgXFP/nrP/x6nqW5+439//kYogAzgl6puDT2mgDvOsnF8otZk4vz0qfzpByAFbZv4e+heFr/81Q3FsdiDweL3816loiAA8DFDB0OrAf7Uf3L7VzIM+Lz1zzKWp07f9miJfUSWpS0TU3yG8Ui+/rwn/zG+sOyUcMy5l0e/D0b6NuTpslnA8ayMXOX+rvRhD+5RuNoNbH6Fk9X+IYTr+yT6oPP191SSxFa7n/Fsir+OmRQWhhBQFwLAPBXHEQ6WndWf4ENqV/Atg+Zpk0zkTeH5FlXURY0v/y54Gqn/xwH/+rMMupaDcyjn3OqfXroAAAAAA',
                avatar: !0,
                size: 'mini',
                onClick: function() {
                  return e.onExportExcel();
                },
                style: { float: 'right', cursor: 'pointer' },
              }),
          ),
        ),
      e.onGroupChange &&
        a.createElement(
          i.Table.Row,
          null,
          a.createElement(
            i.Table.HeaderCell,
            {
              style: {
                backgroundColor: '#1678C2',
                color: 'white',
                borderRadius: 0,
                borderTop: '2px solid white',
                paddingTop: '4px',
                paddingBottom: '4px',
              },
              onDrop: function(t) {
                var n = t.dataTransfer.getData('colId');
                n &&
                  (g.find(function(e) {
                    return e.colId === n;
                  }) ||
                    null == e.onGroupChange ||
                    e.onGroupChange(
                      g
                        .map(function(e) {
                          return { colId: e.colId, sortOrder: e.sortOrder };
                        })
                        .concat({ colId: n, sortOrder: 'asc' }),
                    ));
              },
              onDragOver: function(e) {
                'colid' === e.dataTransfer.types[0] && e.preventDefault();
              },
            },
            y,
            'Drag a column header and drop it here to group by that column',
          ),
        ),
    ),
  );
}
function ee(e) {
  var t = e.enableDrag || !!e.onColumnReorder,
    n = o.useState(-1),
    r = n[0],
    l = n[1],
    c = o.useState(-1),
    u = c[0],
    s = c[1],
    d = function(e) {
      var t,
        n = e.currentTarget.dataset;
      e.dataTransfer.setData('colId', null != (t = n.id) ? t : ''),
        l(Number(n.index));
    },
    m = function(t) {
      if ((l(-1), t.dataTransfer.getData('colId'))) {
        var n = Number(t.currentTarget.dataset.index);
        Number.isNaN(n) ||
          -1 === r ||
          r === n ||
          null == e.onColumnReorder ||
          e.onColumnReorder(r, n);
      }
    },
    f = function() {
      l(-1), s(-1);
    },
    g = function(t) {
      e.onColumnReorder &&
        'colid' === t.dataTransfer.types[0] &&
        t.preventDefault();
    },
    h = function(e) {
      'colid' === e.dataTransfer.types[0] &&
        s(Number(e.currentTarget.dataset.index));
    },
    v = function(e) {
      if ('colid' === e.dataTransfer.types[0]) {
        var t = e.currentTarget.dataset;
        s(function(e) {
          return e === Number(t.index) ? -1 : e;
        });
      }
    },
    y = function(t) {
      var n = t.currentTarget.dataset.id;
      n && (null == e.onSort || e.onSort(n));
    },
    C = { borderLeft: '5px solid #1678C2' },
    w = { borderRight: '5px solid #1678C2' },
    b = e.columns
      .map(function(e, t) {
        return p({}, e, { index: t });
      })
      .filter(function(e) {
        return !e.hidden;
      })
      .map(function(n) {
        var o,
          l,
          c,
          s,
          b,
          E = z(n.field),
          k = n.index,
          P = n.id,
          S = {};
        e.onColumnReorder &&
          (r < u && u === k ? (S = w) : r > u && u === k && (S = C));
        var x = null == (o = n.filterable) ? void 0 : o.type,
          I = null == (l = n.filterable) ? void 0 : l.props,
          O = x ? (null == (c = F[x]) ? void 0 : c.component) : void 0,
          D = null == (s = e.filters['' + E]) ? void 0 : s.value;
        return a.createElement(
          i.Table.HeaderCell,
          Object.assign(
            {},
            n.headerAttributes,
            { className: -1 !== r ? 'dragging' : '', key: n.id },
            n.sortDisabled
              ? {}
              : {
                  sorted:
                    e.sortBy === P
                      ? 'asc' === e.sortOrder
                        ? 'ascending'
                        : 'descending'
                      : void 0,
                  onClick: y,
                },
            {
              'data-id': P,
              'data-index': k,
              draggable: t,
              onDragStart: d,
              onDrop: m,
              onDragEnd: f,
              onDragOver: g,
              onDragEnter: h,
              onDragLeave: v,
            },
            {
              style: p(
                {},
                S,
                null == (b = n.headerAttributes) ? void 0 : b.style,
              ),
              nowrap: 'true',
              collapsing: !0,
            },
          ),
          n.title,
          e.onFilterUpdate &&
            O &&
            a.createElement(
              O,
              Object.assign({}, I, {
                selectedOpts: D,
                onChange: e.onFilterUpdate(z(n.field), x),
                trigger: D ? Z : J,
                data: e.rawData,
                field: z(n.field),
                filterType: x,
              }),
            ),
        );
      });
  return a.createElement(a.Fragment, null, b);
}
function te(e) {
  var t = o.useState({}),
    n = t[0],
    l = t[1];
  o.useEffect(
    function() {
      l({});
    },
    [e.grouping],
  );
  var c = function(e) {
      return function() {
        l(function(t) {
          var n;
          return p({}, t, (((n = {})[e] = !t[e]), n));
        });
      };
    },
    u = [],
    s = e.grouping.map(function(e) {
      return (function(e, t) {
        var n,
          r,
          o = null == (n = _[t || '']) ? void 0 : n.groupAccessor;
        switch (
          ('object' == typeof e
            ? ((r = e.field), e.groupAccessor && (o = e.groupAccessor))
            : (r = e),
          typeof o)
        ) {
          case 'function':
            var a = o;
            return function(e) {
              return a(e, r);
            };
          case 'object':
            var i = o;
            return function(e) {
              return i[e[r]];
            };
          default:
            var l = o || r;
            return function(e) {
              return e[l];
            };
        }
      })(e.field, e.type);
    }),
    d = 0,
    m = e.slicedData.map(function(t, o) {
      var l = s.map(function(e) {
          return e(t);
        }),
        p =
          (null == e.rowLevelPropsCalc ? void 0 : e.rowLevelPropsCalc(t, d)) ||
          {},
        m = null == e.rowLevelStyleCalc ? void 0 : e.rowLevelStyleCalc(t, d);
      d += 1;
      for (var f = !1, g = -1, h = 0; h < l.length; ++h) {
        var v = l.slice(0, h + 1).join('‌');
        if (n[v]) {
          (f = !0), (g = h);
          break;
        }
      }
      var y = f
        ? null
        : a.createElement(
            i.Table.Row,
            Object.assign({ style: m }, p, {
              key: e.itemKeyMap(t) || o,
              onClick: function(n) {
                return null == e.onRowClick
                  ? void 0
                  : e.onRowClick(n, t, e.startIndex + o);
              },
            }),
            e.grouping.map(function(e, t) {
              return a.createElement(i.Table.Cell, {
                style: { backgroundColor: '#F2F2F2' },
                key: t,
                collapsing: !0,
              });
            }),
            e.visibleColumns.map(function(n) {
              var r,
                o = (r = n).template
                  ? r.template
                  : _[r.type]
                  ? _[r.type].template
                  : void 0;
              return a.createElement(
                i.Table.Cell,
                { key: n.id || n.title },
                void 0 === o
                  ? U(t, n.field, n.type)
                  : o(U(t, n.field, n.type), t, e.additionalTemplateInfo),
              );
            }),
          );
      if (!e.grouping.length) return y;
      for (var C = -1, w = 0; w < l.length; ++w)
        -1 === C && u[w] !== l[w] && (C = w), C >= 0 && (u[w] = l[w]);
      if (-1 === C) return y;
      for (var b = [], E = C; E < l.length; ++E) {
        var k = e.grouping[E],
          P = l.slice(0, E + 1).join('‌'),
          S = l[E];
        (g > -1 && E > g) ||
          b.push(
            a.createElement(
              i.Table.Row,
              { key: '' + k.title + P },
              r.range(E).map(function(e) {
                return a.createElement(i.Table.Cell, {
                  style: { backgroundColor: '#F2F2F2' },
                  key: e,
                  collapsing: !0,
                });
              }),
              a.createElement(
                i.Table.Cell,
                {
                  onClick: c(P),
                  colSpan: e.visibleColumns.length + e.grouping.length - E,
                  style: { cursor: 'pointer', backgroundColor: '#F2F2F2' },
                  collapsing: !0,
                },
                a.createElement(i.Icon, {
                  name: 'caret ' + (n[P] ? 'right' : 'down'),
                }),
                a.createElement('strong', null, k.title, ': ', S),
              ),
            ),
          );
      }
      return [].concat(b, [y]);
    });
  return a.createElement(a.Fragment, null, m);
}
function ne(e) {
  var n,
    c,
    u,
    s = e.loadingMessage,
    m = void 0 === s ? 'Loading Data... Please Wait...' : s,
    g = e.emptyMessage,
    v = void 0 === g ? 'No Data Available' : g,
    y = e.height,
    w = void 0 === y ? '70vh' : y,
    b = e.generalSearchDebounceTime,
    E = void 0 === b ? 500 : b,
    k = e.grouping,
    P = void 0 === k ? X : k,
    S = f(e, [
      'loadingMessage',
      'emptyMessage',
      'height',
      'generalSearchDebounceTime',
      'grouping',
    ]),
    x = o.useState(1),
    I = x[0],
    O = x[1],
    D = o.useState(15),
    A = D[0],
    T = D[1],
    N = o.useRef(null),
    B = o.useMemo(
      function() {
        var e = S.data;
        if (S.isPaginated) return e;
        if (!r.isEmpty(S.filters)) {
          var t = Object.entries(S.filters);
          e = e.filter(function(e) {
            for (var n, r = !0, o = h(t); !(n = o()).done; ) {
              var a,
                i = n.value,
                l = i[1],
                c = (null != (a = F[l.type]) ? a : {}).filter;
              if (c && !(r = c(e, i[0], l.value))) break;
            }
            return r;
          });
        }
        if (S.generalSearch) {
          var n = S.generalSearch.toLowerCase();
          e = e.filter(function(e) {
            return Object.values(e)
              .join('‌')
              .toLowerCase()
              .includes(n);
          });
        }
        return e;
      },
      [S.data, S.generalSearch, S.filters, S.isPaginated],
    ),
    M = H(S.onFiltered);
  o.useEffect(
    function() {
      null == M.current || M.current(B);
    },
    [B, M],
  ),
    o.useEffect(
      function() {
        O(1);
      },
      [S.data, S.activePage],
    );
  var V = o.useMemo(
      function() {
        return S.columns
          .map(function(e, t) {
            return p({}, e, { QHgridIndex: t });
          })
          .filter(function(e) {
            return !e.hidden;
          });
      },
      [S.columns],
    ),
    G = o.useMemo(
      function() {
        var e = S.columns.filter(function(e) {
          return e.unique;
        });
        return function(t) {
          return e.length
            ? e
                .map(function(e) {
                  return U(t, e.field, e.type);
                })
                .join(',')
            : void 0;
        };
      },
      [S.columns],
    ),
    R = S.columnsConfig,
    q = void 0 === R ? S.columns : R,
    L = V.length,
    j = null != (n = S.totalRows) ? n : B.length,
    Q = null != (c = S.activePage) ? c : I,
    z = null != (u = S.itemsPerPage) ? u : A,
    Z = Math.ceil(j / z) || 1,
    J = (Q - 1) * z || 0,
    ne = Q * z > j ? j : Q * z,
    re = J,
    oe = ne;
  S.isPaginated && ((re = 0), (oe = z));
  var ae = o.useMemo(
      function() {
        return P.map(function(e) {
          var t = q.find(function(t) {
            return t.id === e.colId;
          }) || { field: '', title: '', type: '' };
          return p({}, e, { field: t.field, title: t.title, type: t.type });
        });
      },
      [P, q],
    ),
    ie = o.useMemo(
      function() {
        return Object.fromEntries(
          q.map(function(e) {
            return [e.id, e];
          }),
        );
      },
      [q],
    ),
    le = o.useMemo(
      function() {
        if ((!P.length && !S.sortBy) || S.isPaginated) return B;
        var e = P.map(function(e) {
            return p({}, e, { col: ie[e.colId] });
          }),
          t = e.map(function(e) {
            return Y(e.col.field, e.col.type);
          });
        if (S.sortBy) {
          var n = ie[S.sortBy];
          t.push(Y(n.field, n.type));
        }
        var o = e.map(function(e) {
          return e.sortOrder;
        });
        return S.sortOrder && o.push(S.sortOrder), r.orderBy(B, t, o);
      },
      [S.sortBy, S.sortOrder, P, B, ie, S.isPaginated],
    ),
    ce = H(S.onSorted);
  o.useEffect(
    function() {
      null == ce.current || ce.current(le);
    },
    [le, ce],
  );
  var ue = o.useMemo(
      function() {
        return le.slice(re, oe);
      },
      [le, re, oe],
    ),
    se = S.onGroupChange,
    de = S.onColumnVisibilityToggle,
    pe = S.loading,
    me = S.generalSearch,
    fe = S.onGeneralSearch,
    ge = S.exportBaseName,
    he = S.extraHeaderItem,
    ve = (function() {
      var e = d(
        C.mark(function e(n) {
          var o, a, i, c, u, s, d, p, m, f, g, h;
          return C.wrap(function(e) {
            for (;;)
              switch ((e.prev = e.next)) {
                case 0:
                  return (
                    void 0 === n &&
                      (n = null != (a = S.exportBaseName) ? a : ''),
                    (i = S.columns),
                    (c =
                      null !=
                      (o = null == S.getExportData ? void 0 : S.getExportData())
                        ? o
                        : le),
                    (e.next = 5),
                    new Promise(function(e) {
                      e(t(require('xlsx')));
                    }).catch(function() {
                      alert('XSLX needs to be imported!');
                    })
                  );
                case 5:
                  if ((u = e.sent)) {
                    e.next = 8;
                    break;
                  }
                  return e.abrupt('return');
                case 8:
                  return (e.next = 10), c;
                case 10:
                  (s = e.sent),
                    (d = u.utils.book_new()),
                    (p = r.filter(i, function(e) {
                      var t = !e.hidden,
                        n = e.hideOnExport,
                        o = !1;
                      if (e.exportIfVisible) {
                        var a = r.find(i, function(t) {
                          return t.id === e.exportIfVisible;
                        });
                        o = !(null == a ? void 0 : a.hidden);
                      }
                      return (t && !n) || o;
                    })),
                    (m = s.map(function(e) {
                      return p.map(function(t) {
                        var n,
                          r,
                          o,
                          a = (n = t).exportTemplate
                            ? n.exportTemplate
                            : null == (r = _[null != (o = n.type) ? o : ''])
                            ? void 0
                            : r.exportTemplate,
                          i = U(e, t.field, t.type);
                        return (
                          a && (i = a(i, e, S.additionalTemplateInfo)),
                          Array.isArray(i) && (i = i.join(' : ')),
                          l.isMoment(i) ? l(i).toDate() : i
                        );
                      });
                    })),
                    (f = [
                      p.map(function(e) {
                        return e.exportTitle || e.title;
                      }),
                    ].concat(m)),
                    (g = p.map(function(e, t) {
                      return {
                        width: Math.max.apply(
                          Math,
                          m.map(function(e) {
                            var n = e[t],
                              r = l.isDate(n) ? 18 : 1.5 * ('' + n).length;
                            return r > 70 ? 70 : r < 18 ? 18 : r;
                          }),
                        ),
                      };
                    })),
                    ((h = u.utils.aoa_to_sheet(f, { cellDates: !0 }))[
                      '!autofilter'
                    ] = {
                      ref: 'A1:' + u.utils.encode_col(p.length - 1) + '1',
                    }),
                    (h['!cols'] = g),
                    u.utils.book_append_sheet(d, h, 'report'),
                    u.writeFile(
                      d,
                      n + ' - ' + l().format('DD/MMM/YYYY') + '.xlsx',
                    );
                case 21:
                case 'end':
                  return e.stop();
              }
          }, e);
        }),
      );
      return function(t) {
        return e.apply(this, arguments);
      };
    })();
  return (
    S.qhGridRef &&
      (S.qhGridRef.current = {
        bodyRef: N,
        exportExcel: ve,
        data: le,
        slicedData: ue,
        props: S,
        getSortedData: function() {
          return le;
        },
      }),
    a.createElement(
      'div',
      { className: 'QHGrid', style: { width: '100%', margin: 0, padding: 0 } },
      a.createElement(
        i.Dimmer,
        { active: S.loading, className: 'QHGrid--loading' },
        a.createElement(i.Loader, null, m),
      ),
      a.createElement($, {
        columns: S.columns,
        grouping: P,
        onGroupChange: se,
        onColumnVisibilityToggle: de,
        loading: pe,
        generalSearch: me,
        onGeneralSearch: fe,
        onExportExcel: ve,
        exportBaseName: ge,
        generalSearchDebounceTime: E,
        extraHeaderItem: he,
      }),
      a.createElement(
        'div',
        {
          className: 'QHGrid-body-div',
          style: {
            margin: 0,
            padding: 0,
            width: '100%',
            height: w,
            overflowX: 'auto',
            overflowY: 'auto',
          },
          ref: N,
        },
        a.createElement(
          i.Table,
          {
            className: 'QHGrid--body',
            fixed: S.loading && !S.isPaginated,
            striped: !0,
            sortable: !!S.onSort,
            selectable: !0,
            celled: !0,
            compact: 'very',
            size: 'small',
            style: {
              marginTop: 0,
              paddingTop: 0,
              borderRadius: 0,
              marginBottom: 0,
              paddingBottom: 0,
              fontSize: 12,
            },
          },
          a.createElement(
            'colgroup',
            null,
            P.length > 0 && a.createElement('col', { span: P.length }),
            V.map(function(e) {
              return a.createElement('col', {
                style: e.columnStyle,
                key: e.id || e.title,
              });
            }),
          ),
          a.createElement(
            i.Table.Header,
            null,
            a.createElement(
              i.Table.Row,
              null,
              r.map(P, function(e, t) {
                return a.createElement(i.Table.HeaderCell, {
                  key: t,
                  collapsing: !0,
                  style: { cursor: 'default' },
                });
              }),
              a.createElement(ee, {
                filters: S.filters,
                onFilterUpdate: S.onFilterUpdate,
                rawData: S.data,
                onColumnReorder: S.onColumnReorder,
                sortBy: S.sortBy,
                sortOrder: S.sortOrder,
                onSort: S.onSort,
                columns: S.columns,
                enableDrag: !!S.onGroupChange,
              }),
            ),
          ),
          a.createElement(
            i.Table.Body,
            null,
            a.createElement(te, {
              startIndex: J,
              rowLevelStyleCalc: S.rowLevelStyleCalc || W,
              rowLevelPropsCalc: S.rowLevelPropsCalc,
              additionalTemplateInfo: S.additionalTemplateInfo,
              onRowClick: S.onRowClick || W,
              itemKeyMap: G,
              grouping: ae,
              visibleColumns: V,
              slicedData: ue,
            }),
          ),
        ),
        !S.loading &&
          0 === j &&
          a.createElement(
            'div',
            { className: 'QHGrid--empty' },
            r.isEmpty(v)
              ? null
              : 'string' == typeof v
              ? a.createElement(i.Message, { icon: 'search', content: v })
              : v,
          ),
      ),
      a.createElement(
        i.Table,
        {
          striped: !0,
          sortable: !0,
          selectable: !0,
          celled: !0,
          compact: 'very',
          size: 'small',
          style: { marginTop: 0, paddingTop: 0, borderRadius: 0, borderTop: 0 },
        },
        a.createElement(
          i.Table.Footer,
          null,
          a.createElement(
            i.Table.Row,
            null,
            a.createElement(
              i.Table.HeaderCell,
              {
                colSpan: L + P.length,
                style: { marginTop: 0, borderRadius: 0, borderTop: 0 },
              },
              a.createElement(i.Pagination, {
                size: 'mini',
                activePage: Q,
                totalPages: Z,
                onPageChange: function(e, t) {
                  var n = t.activePage;
                  'number' == typeof n &&
                    (S.activePage
                      ? null == S.onPageChange || S.onPageChange(n)
                      : O(n),
                    N.current && (N.current.scrollTop = 0));
                },
                firstItem: { content: '«' },
                lastItem: { content: '»' },
                nextItem: { content: '⟩' },
                prevItem: { content: '⟨' },
              }),
              a.createElement(
                'span',
                null,
                a.createElement(i.Dropdown, {
                  inline: !0,
                  options: K,
                  value: z,
                  onChange: function(e, t) {
                    var n = t.value;
                    'number' == typeof n &&
                      (S.itemsPerPage
                        ? S.itemsPerPage !== n &&
                          (null == S.onItemsPerPageChange ||
                            S.onItemsPerPageChange(n))
                        : T(n));
                  },
                  upward: !0,
                  style: { marginLeft: '30px' },
                }),
                a.createElement('strong', null, 'Items Per Page'),
              ),
              a.createElement(
                'span',
                { style: { float: 'right', color: '#BBBBBB', fontSize: 16 } },
                J + 1,
                ' - ',
                ne,
                ' of ',
                j,
                ' Items',
                ' ',
                S.onReloadData &&
                  a.createElement(i.Button, {
                    style: { marginLeft: 10 },
                    circular: !0,
                    icon: 'undo',
                    size: 'mini',
                    color: 'blue',
                    onClick: S.onReloadData,
                  }),
              ),
            ),
          ),
        ),
      ),
    )
  );
}
var re = [
    { key: 'No Colour', value: '', text: 'No Colour' },
    { key: 'red', value: 'red', text: 'Red' },
    { key: 'orange', value: 'orange', text: 'Orange' },
    { key: 'yellow', value: 'yellow', text: 'Yellow' },
    { key: 'olive', value: 'olive', text: 'Olive' },
    { key: 'green', value: 'green', text: 'Green' },
    { key: 'teal', value: 'teal', text: 'Teal' },
    { key: 'blue', value: 'blue', text: 'Blue' },
    { key: 'violet', value: 'violet', text: 'Violet' },
    { key: 'purple', value: 'purple', text: 'Purple' },
    { key: 'pink', value: 'pink', text: 'Pink' },
    { key: 'brown', value: 'brown', text: 'Brown' },
    { key: 'grey', value: 'grey', text: 'Grey' },
    { key: 'black', value: 'black', text: 'Black' },
    { key: 'AbbvieBlue', value: 'AbbvieBlue', text: 'AbbVie Blue' },
    { key: 'AbbviePurple', value: 'AbbviePurple', text: 'AbbVie Purple' },
    { key: 'AbbvieTeal', value: 'AbbvieTeal', text: 'AbbVie Teal' },
  ],
  oe = [
    'hourglass',
    'hourglass start',
    'hourglass half',
    'hourglass end',
    'checkmark',
    'user',
    'star outline',
    'users',
    'warning sign',
    'times circle outline',
    'flask',
    'cocktail',
    'beer',
    'coffee',
    'certificate',
    'birthday cake',
    'magic',
    'plus circle',
    'plus square outline',
    'question',
    'pied piper',
    'smile outline',
    'frown outline',
    'thumbs up outline',
    'thumbs down outline',
    'hand rock',
    'hand paper',
    'hand scissors',
    'hand lizard',
    'hand spock',
  ].map(function(e) {
    return {
      key: e,
      value: e,
      text: e,
      content: a.createElement(i.Header, { icon: e, content: e }),
    };
  });
oe.unshift({ key: 'No Icon', value: '', text: 'No Icon' });
var ae = (function(e) {
    function t() {
      var t;
      return (
        ((t = e.apply(this, arguments) || this).state = {
          name: '',
          group: 'No Group',
          color: '',
          icon: '',
          update: !1,
          groupOptions: [],
          groupError: !1,
          nameError: !1,
          quickViews: [],
          usedNames: {},
          values: null,
        }),
        (t.handleConfirmClick = function() {}),
        (t.handleGroupAddition = function(e, n) {
          var r = n.value;
          'string' == typeof r &&
            t.setState(function(e) {
              return {
                groupOptions: [
                  { text: r, value: r, key: r, icon: 'add' },
                ].concat(e.groupOptions),
              };
            });
        }),
        (t.handleGroupChange = function(e, n) {
          var r = n.value;
          'string' == typeof r && t.setState({ group: r, groupError: !1 });
        }),
        (t.handleColorChange = function(e, n) {
          var r = n.value;
          'string' == typeof r && t.setState({ color: r });
        }),
        (t.handleIconChange = function(e, n) {
          var r = n.value;
          'string' == typeof r && t.setState({ icon: r });
        }),
        (t.handleNameChange = function(e, n) {
          var r = n.value,
            o = !(
              !t.state.usedNames[r.toLowerCase()] ||
              (t.props.values &&
                t.props.values.name.toLowerCase() === r.toLowerCase())
            );
          t.setState({ name: r, nameError: o });
        }),
        (t.handleUpdateChange = function(e, n) {
          var r = n.checked;
          'boolean' == typeof r && t.setState({ update: r });
        }),
        (t.handleSubmit = function(e) {
          e.preventDefault();
          var n = t.state,
            r = n.group,
            o = n.name,
            a = n.icon,
            i = n.color;
          (!t.state.usedNames[o] ||
            (t.props.values && t.props.values.name === o)) &&
            ('No Group' === r && (r = void 0),
            '' === a && (a = void 0),
            '' === i && (i = void 0),
            t.props.values
              ? null == t.props.onEditQuickView ||
                t.props.onEditQuickView(
                  t.props.values.name,
                  o,
                  r,
                  a,
                  i,
                  n.update,
                )
              : null == t.props.onCreateQuickView ||
                t.props.onCreateQuickView(o, r, a, i),
            t.setState({
              name: '',
              nameError: !1,
              group: 'No Group',
              icon: '',
              color: '',
              update: !1,
            }),
            t.props.onClose());
        }),
        t
      );
    }
    return (
      m(t, e),
      (t.getDerivedStateFromProps = function(e, t) {
        if (!e.open) return null;
        var n = {};
        if (
          (e.quickViews !== t.quickViews && e.quickViews
            ? ((n.quickViews = e.quickViews),
              (n.usedNames = e.quickViews.reduce(function(e, t) {
                return (e[t.name.toLowerCase()] = !0), e;
              }, {})),
              (n.groupOptions = [
                { text: 'No Group', value: 'No Group', key: 'No Group' },
              ].concat(
                Object.keys(
                  e.quickViews.reduce(function(e, t) {
                    return t.group && (e[t.group] = !0), e;
                  }, {}),
                ).map(function(e) {
                  return { key: e, text: e, value: e };
                }),
              )))
            : e.quickViews ||
              ((n.groupOptions = [
                { text: 'No Group', value: 'No Group', key: 'No Group' },
              ]),
              (n.usedNames = {})),
          e.values && e.values !== t.values)
        ) {
          n.values = e.values;
          var r = e.values,
            o = r.group,
            a = void 0 === o ? 'No Group' : o,
            i = r.icon,
            l = void 0 === i ? '' : i,
            c = r.color,
            u = void 0 === c ? '' : c;
          (n.name = r.name),
            (n.group = a),
            (n.icon = l),
            (n.color = u),
            (n.nameError = !1);
        } else
          !e.values &&
            t.values &&
            ((n.values = null),
            (n.name = ''),
            (n.group = 'No Group'),
            (n.icon = ''),
            (n.color = ''),
            (n.nameError = !1));
        return n;
      }),
      (t.prototype.render = function() {
        return this.props.open
          ? a.createElement(
              i.Modal,
              {
                open: this.props.open,
                onClose: this.props.onClose,
                as: i.Form,
                onSubmit: this.handleSubmit,
              },
              a.createElement(
                i.Modal.Header,
                null,
                this.props.header ||
                  (this.props.values
                    ? 'Edit QuickView: ' + this.props.values.name
                    : 'Create QuickView'),
              ),
              a.createElement(
                i.Modal.Content,
                null,
                a.createElement(
                  i.Form.Group,
                  { widths: 'equal' },
                  a.createElement(i.Form.Input, {
                    label: a.createElement(
                      'label',
                      null,
                      'Name',
                      this.state.nameError &&
                        a.createElement(i.Popup, {
                          trigger: a.createElement(i.Icon, {
                            name: 'info circle',
                            style: { cursor: 'pointer' },
                          }),
                          inverted: !0,
                          content:
                            'Please choose another name. "' +
                            this.state.name +
                            '" is taken',
                        }),
                    ),
                    placeholder: 'Enter QuickView Name',
                    value: this.state.name,
                    onChange: this.handleNameChange,
                    error: this.state.nameError,
                    required: !0,
                  }),
                  a.createElement(i.Form.Dropdown, {
                    allowAdditions: !0,
                    onChange: this.handleGroupChange,
                    onAddItem: this.handleGroupAddition,
                    options: this.state.groupOptions,
                    value: this.state.group,
                    selection: !0,
                    search: !0,
                    label: a.createElement(
                      'label',
                      null,
                      'Group',
                      a.createElement(i.Popup, {
                        trigger: a.createElement(i.Icon, {
                          name: 'question circle',
                          style: { cursor: 'pointer' },
                        }),
                        inverted: !0,
                        content:
                          'Used to separate quick views into groups. Type a name to add a new group.',
                      }),
                    ),
                    placeholder: 'Select or add a group name',
                  }),
                ),
                a.createElement(
                  i.Form.Group,
                  { widths: 'equal' },
                  a.createElement(i.Form.Select, {
                    label: a.createElement(
                      'label',
                      null,
                      'Color',
                      a.createElement(i.Popup, {
                        trigger: a.createElement(i.Icon, {
                          name: 'question circle',
                          style: { cursor: 'pointer' },
                        }),
                        inverted: !0,
                        content:
                          'Adds color to the Quick View Card in the Home Page',
                      }),
                    ),
                    options: re,
                    placeholder: 'Choose a color',
                    value: this.state.color,
                    onChange: this.handleColorChange,
                  }),
                  a.createElement(i.Form.Dropdown, {
                    label: a.createElement(
                      'label',
                      null,
                      'Icon',
                      a.createElement(i.Popup, {
                        trigger: a.createElement(i.Icon, {
                          name: 'question circle',
                          style: { cursor: 'pointer' },
                        }),
                        inverted: !0,
                        content:
                          'Adds an Icon to the Quick View Card in the Home Page',
                      }),
                    ),
                    selection: !0,
                    options: oe,
                    placeholder: 'Choose an Icon',
                    value: this.state.icon,
                    onChange: this.handleIconChange,
                  }),
                ),
                this.props.values &&
                  a.createElement(i.Form.Checkbox, {
                    label: 'Update View Settings to the Current Settings',
                    inline: !0,
                    checked: this.state.update,
                    onChange: this.handleUpdateChange,
                  }),
              ),
              a.createElement(i.Modal.Actions, {
                actions: [
                  {
                    content: 'Cancel',
                    key: 'cancel',
                    negative: !0,
                    onClick: this.props.onClose,
                    type: 'button',
                  },
                  {
                    key: 'confirm',
                    content: 'Confirm',
                    positive: !0,
                    type: 'submit',
                  },
                ],
              }),
            )
          : null;
      }),
      t
    );
  })(o.Component),
  ie = {},
  le = { ascending: 'asc', descending: 'desc', asc: 'asc', desc: 'desc' };
function ce(e) {
  var t = o.useState(!1),
    n = t[0],
    l = t[1],
    c = o.useState(!1),
    s = c[0],
    m = c[1],
    g = o.useState(void 0),
    h = g[0],
    y = g[1],
    w = o.useRef(e.getView);
  w.current = e.getView;
  var b = o.useState(ie),
    E = b[0],
    k = b[1],
    P = o.useRef(ie),
    S = e.disableChanges || !e.id;
  o.useEffect(
    function() {
      S ||
        E === P.current ||
        d(
          C.mark(function t() {
            var n, r;
            return C.wrap(
              function(t) {
                for (;;)
                  switch ((t.prev = t.next)) {
                    case 0:
                      if (!e.url) {
                        t.next = 13;
                        break;
                      }
                      return (
                        (n = {
                          quickViewsId: e.id,
                          ownerId: e.ownerId,
                          quickViews: JSON.stringify(E),
                        }),
                        (t.prev = 2),
                        (t.next = 5),
                        u.put(e.url, n)
                      );
                    case 5:
                      t.next = 11;
                      break;
                    case 7:
                      (t.prev = 7),
                        (t.t0 = t.catch(2)),
                        alert('Failed to save quickviews to the service'),
                        console.error(t.t0);
                    case 11:
                      t.next = 15;
                      break;
                    case 13:
                      (r =
                        process.env.REACT_APP_NAME +
                        '.' +
                        e.id +
                        '.quickViews'),
                        localStorage.setItem(r, JSON.stringify(E));
                    case 15:
                    case 'end':
                      return t.stop();
                  }
              },
              t,
              null,
              [[2, 7]],
            );
          }),
        )();
    },
    [E, e.ownerId, e.id, e.url, S],
  );
  var x = o.useMemo(
      function() {
        return e.config
          ? r.isEmpty(E)
            ? e.config || E
            : p({}, e.config, E)
          : E;
      },
      [E, e.config],
    ),
    I = o.useMemo(
      function() {
        return Object.entries(x).map(function(e) {
          return p({ name: e[0] }, e[1]);
        });
      },
      [x],
    ),
    O = (function(e) {
      var t = e.defaultValue,
        n = e.initialValue,
        r = e.value,
        a = o.useState(void 0 === t ? (void 0 === n ? void 0 : n) : t);
      return [void 0 === r ? a[0] : r, a[1]];
    })({ defaultValue: e.defaultValue, value: e.value, initialValue: '' }),
    D = O[0],
    A = O[1],
    T = o.useMemo(
      function() {
        return I.find(function(e) {
          return e.name === D;
        });
      },
      [D, I],
    );
  o.useEffect(
    function() {
      T && (0, e.onViewChange)(T);
    },
    [T, e.onViewChange],
  ),
    o.useEffect(
      function() {
        var t;
        return (
          d(
            C.mark(function n() {
              var r, o, a;
              return C.wrap(
                function(n) {
                  for (;;)
                    switch ((n.prev = n.next)) {
                      case 0:
                        if (((r = {}), !e.id)) {
                          n.next = 17;
                          break;
                        }
                        if (!e.url || !e.ownerId) {
                          n.next = 15;
                          break;
                        }
                        return (
                          (o = {
                            quickViewsId: e.id,
                            ownerId: e.ownerId,
                            appName: process.env.REACT_APP_NAME,
                          }),
                          (n.prev = 4),
                          (n.next = 7),
                          u.get(e.url, {
                            params: o,
                            cancelToken: new u.CancelToken(function(e) {
                              return (t = e);
                            }),
                          })
                        );
                      case 7:
                        (r = n.sent.data), (n.next = 13);
                        break;
                      case 10:
                        (n.prev = 10),
                          (n.t0 = n.catch(4)),
                          u.isCancel(n.t0) ||
                            (console.error(n.t0),
                            alert('Failed to get quickviews from the service'));
                      case 13:
                        n.next = 17;
                        break;
                      case 15:
                        (a =
                          process.env.REACT_APP_NAME +
                          '.' +
                          e.id +
                          '.quickViews'),
                          (r = JSON.parse(localStorage.getItem(a) || '{}'));
                      case 17:
                        Object.values(r).forEach(function(e) {
                          var t;
                          (e.view.grouping = e.view.grouping.map(function(e) {
                            var t;
                            return {
                              colId: null != (t = e.colId) ? t : e.col_id,
                              sortOrder: e.sortOrder,
                            };
                          })),
                            (e.view.columns =
                              null == (t = e.view.columns)
                                ? void 0
                                : t.map(function(e) {
                                    var t;
                                    return {
                                      id: null != (t = e.id) ? t : e.ID,
                                      hidden: e.hidden,
                                    };
                                  })),
                            (e.view.sortOrder =
                              e.view.sortOrder && le[e.view.sortOrder]);
                        }),
                          (P.current = r),
                          k(r);
                      case 20:
                      case 'end':
                        return n.stop();
                    }
                },
                n,
                null,
                [[4, 10]],
              );
            }),
          )(),
          t
        );
      },
      [e.ownerId, e.id, e.url],
    );
  var N = function(t, n) {
      l(!1);
      var r = n['data-qv'];
      r.name === D
        ? e.onViewChange(r)
        : (null == e.onChange || e.onChange(r.name, r), A(r.name));
    },
    B = function(e, t) {
      e.stopPropagation(), l(!1);
      var n = t.name;
      k(function(e) {
        return f(e, [n].map(v));
      });
    },
    M = function(e, t) {
      e.stopPropagation(), l(!1), y(t['data-qv']), m(!0);
    },
    V = function(t, n) {
      t.stopPropagation(),
        l(!1),
        null == e.onShare || e.onShare(n.name, n['data-qv']);
    },
    G = o.useMemo(
      function() {
        return r.groupBy(I, 'group');
      },
      [I],
    ),
    R = Object.entries(G).map(function(t) {
      var n = t[0],
        r = t[1].map(function(t) {
          return a.createElement(
            i.Menu.Item,
            {
              key: t.name,
              view: t.view,
              name: t.name,
              'data-custom': t.custom,
              'data-qv': t,
              onClick: N,
              style: {
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'space-between',
              },
            },
            t.icon &&
              a.createElement(i.Icon, {
                className: 'quickViewIcon ' + t.color,
                name: t.icon,
              }),
            t.name,
            a.createElement(
              'div',
              null,
              t.custom &&
                e.onShare &&
                a.createElement(i.Button, {
                  title: 'Share View',
                  icon: a.createElement(i.Icon, {
                    name: 'share square',
                    color: 'black',
                  }),
                  compact: !0,
                  size: 'mini',
                  name: t.name,
                  'data-qv': t,
                  onClick: V,
                  className: 'QHGrid--ButtonClear',
                }),
              t.custom &&
                !e.disableChanges &&
                a.createElement(i.Button, {
                  title: 'Edit View',
                  icon: a.createElement(i.Icon, {
                    name: 'pencil',
                    color: 'black',
                  }),
                  compact: !0,
                  size: 'mini',
                  name: t.name,
                  'data-qv': t,
                  onClick: M,
                  className: 'QHGrid--ButtonClear',
                }),
              t.custom &&
                !e.disableChanges &&
                a.createElement(i.Button, {
                  title: 'Delete View',
                  icon: a.createElement(i.Icon, {
                    name: 'remove',
                    color: 'red',
                  }),
                  color: 'red',
                  compact: !0,
                  size: 'mini',
                  name: t.name,
                  onClick: B,
                  className: 'QHGrid--ButtonClear',
                }),
            ),
          );
        });
      return 'undefined' !== n
        ? a.createElement(
            i.Dropdown,
            { key: n, item: !0, text: n },
            a.createElement(i.Dropdown.Menu, null, r),
          )
        : r;
    });
  return e.disableMenu || (!I.length && S)
    ? null
    : a.createElement(
        a.Fragment,
        null,
        a.createElement(ae, {
          open: s,
          onClose: function() {
            return m(function(e) {
              return !e;
            });
          },
          quickViews: I,
          onCreateQuickView: function(e, t, n, r) {
            var o = null == w.current ? void 0 : w.current();
            if (o) {
              var a = { custom: !0, group: t, icon: n, color: r, view: o };
              k(function(t) {
                var n;
                return p({}, t, (((n = {})[e] = a), n));
              });
            }
          },
          onEditQuickView: function(e, t, n, r, o, a) {
            var i = null == h ? void 0 : h.view;
            if ((a && (i = null == w.current ? void 0 : w.current()), i)) {
              var l = { custom: !0, group: n, icon: r, color: o, view: i };
              k(function(n) {
                var r;
                return p({}, f(n, [e].map(v)), (((r = {})[t] = l), r));
              });
            }
          },
          values: h,
        }),
        a.createElement(
          i.Popup,
          {
            trigger: a.createElement(
              i.Button,
              { inverted: !0 },
              a.createElement(i.Icon, { name: 'lightning' }),
              'Quick Views',
            ),
            position: 'bottom center',
            on: 'click',
            open: n,
            onOpen: function() {
              return l(!0);
            },
            onClose: function() {
              return l(!1);
            },
            name: 'quick',
            flowing: !0,
            basic: !0,
          },
          a.createElement(
            i.Menu,
            { vertical: !0, fluid: !0 },
            !S &&
              a.createElement(
                i.Menu.Item,
                {
                  onClick: function() {
                    l(!1), y(void 0), m(!0);
                  },
                },
                a.createElement(i.Icon, { name: 'add', color: 'green' }),
                'Add Quick View',
              ),
            R,
          ),
        ),
      );
}
var ue = {},
  se = (function(e) {
    function t() {
      var t;
      return (
        ((t = e.apply(this, arguments) || this).state = {
          generalSearch: '',
          filters: {},
          columns: [],
          sortBy: null,
          sortOrder: null,
          grouping: [],
          itemsPerPage: 15,
          activePage: 1,
          columnsConfig: de(t.props.columnsConfig) || [],
        }),
        (t.qhGridRef = a.createRef()),
        (t.componentDidMount = function() {
          t.setState(
            t.props.uniqueCacheKey &&
              !t.props.quickView &&
              !t.props.defaultQuickView &&
              ue[t.props.uniqueCacheKey]
              ? ue[t.props.uniqueCacheKey]
              : {
                  columns: t.state.columnsConfig,
                  itemsPerPage: t.props.itemsPerPage || t.state.itemsPerPage,
                },
          );
        }),
        (t.componentDidUpdate = function(e, n) {
          if (t.props.columnsConfig !== e.columnsConfig) {
            var r = de(t.props.columnsConfig);
            t.setState({ columns: r, columnsConfig: r });
          }
          t.props.itemsPerPage !== e.itemsPerPage &&
            void 0 !== t.props.itemsPerPage &&
            t.setState({ itemsPerPage: t.props.itemsPerPage, activePage: 1 }),
            t.props.uniqueCacheKey &&
              t.state !== n &&
              (ue[t.props.uniqueCacheKey] = t.state);
        }),
        (t.setFilters = function(e) {
          t.setState({ filters: e });
        }),
        (t.setSort = function(e, n) {
          t.setState({ sortBy: e, sortOrder: n, activePage: 1 });
        }),
        (t.handleGeneralSearch = function(e) {
          t.setState({ generalSearch: e, activePage: 1 });
        }),
        (t.handleGroupChange = function(e) {
          t.setState({ grouping: e, activePage: 1 });
        }),
        (t.handleSort = function(e) {
          var n = e,
            r = 'asc';
          t.setState(function(t) {
            return (
              t.sortBy === e &&
                ('asc' === t.sortOrder
                  ? (r = 'desc')
                  : 'desc' === t.sortOrder && ((n = null), (r = null))),
              { sortBy: n, sortOrder: r, activePage: 1 }
            );
          });
        }),
        (t.handleColumnVisibilityToggle = function(e) {
          t.setState(function(t) {
            return {
              columns: t.columns.map(function(t) {
                return t.id === e && (t = p({}, t, { hidden: !t.hidden })), t;
              }),
            };
          });
        }),
        (t.handleColumnReorder = function(e, n) {
          t.setState(function(t) {
            var r = t.columns.slice();
            return r.splice(n, 0, r.splice(e, 1)[0]), { columns: r };
          });
        }),
        (t.handleFilterUpdate = function(e, r) {
          return function(o) {
            t.setState(
              void 0 === o
                ? function(t) {
                    return {
                      filters: n(t.filters, { $unset: [e] }),
                      activePage: 1,
                    };
                  }
                : function(t) {
                    var n;
                    return {
                      filters: p(
                        {},
                        t.filters,
                        ((n = {}), (n[e] = { value: o, type: r }), n),
                      ),
                      activePage: 1,
                    };
                  },
            );
          };
        }),
        (t.handleItemsPerPageChange = function(e) {
          null == t.props.onItemsPerPageChange ||
            t.props.onItemsPerPageChange(e),
            t.setState({ itemsPerPage: e, activePage: 1 });
        }),
        (t.handlePageChange = function(e) {
          t.setState({ activePage: e });
        }),
        (t.getView = function() {
          var e = t.state;
          return {
            grouping: e.grouping,
            sortBy: e.sortBy,
            sortOrder: e.sortOrder,
            generalSearch: e.generalSearch,
            activePage: e.activePage,
            itemsPerPage: e.itemsPerPage,
            filters: e.filters,
            columns: e.columns.map(function(e) {
              return { id: e.id, hidden: e.hidden };
            }),
          };
        }),
        (t.handleQuickViewChange = function(e) {
          var n = e.view.columns,
            o = t.state.columnsConfig;
          if (!(null == n ? void 0 : n.length))
            return t.setState(p({}, e.view, { columns: o }));
          var a = r.keyBy(o, 'id'),
            i = r.groupBy(n, 'id'),
            l = o.filter(function(e) {
              return !i[e.id];
            }),
            c = n
              .reduce(function(e, t) {
                var n = a[t.id];
                return n && e.push(p({}, n, { hidden: t.hidden })), e;
              }, [])
              .concat(l);
          t.setState(p({}, e.view, { columns: c }));
        }),
        t
      );
    }
    return (
      m(t, e),
      (t.prototype.render = function() {
        var e = this.state,
          t = e.columnsConfig,
          n = e.itemsPerPage,
          r = e.activePage,
          o = this.props,
          l = o.height,
          c = o.generalSearchDebounceTime,
          u = o.onFiltered,
          s = o.onSorted,
          d = {
            generalSearch: e.generalSearch,
            filters: e.filters,
            columns: e.columns,
            sortBy: e.sortBy,
            sortOrder: e.sortOrder,
            grouping: e.grouping,
            data: o.data,
            exportBaseName: o.exportBaseName,
            loading: o.loading,
            loadingMessage: o.loadingMessage,
            additionalTemplateInfo: o.additionalTemplateInfo,
            rowLevelStyleCalc: o.rowLevelStyleCalc,
            rowLevelPropsCalc: o.rowLevelPropsCalc,
            onRowClick: o.onRowClick,
            onReloadData: o.fetchData,
            emptyMessage: o.emptyMessage,
            extraHeaderItem: a.createElement(
              a.Fragment,
              null,
              a.createElement(ce, {
                id: this.props.quickViewsId,
                config: this.props.quickViews,
                defaultValue: this.props.defaultQuickView,
                disableChanges: this.props.disableQuickViewEditing,
                onChange: this.props.onQuickViewChange,
                onShare: this.props.onQuickViewShare,
                ownerId: this.props.ownerId,
                url: this.props.quickViewsURL,
                value: this.props.quickView,
                onViewChange: this.handleQuickViewChange,
                getView: this.getView,
                disableMenu: this.props.disableQuickViewMenu,
              }),
              this.props.legend &&
                a.createElement(i.Popup, {
                  flowing: !0,
                  trigger: a.createElement(i.Button, {
                    icon: 'info circle',
                    content: 'Legend',
                    inverted: !0,
                  }),
                  children: this.props.legend,
                }),
              this.props.extraHeaderItem,
            ),
            columnsConfig: t,
            itemsPerPage: n,
            onItemsPerPageChange: this.handleItemsPerPageChange,
            height: l,
            generalSearchDebounceTime: c,
            activePage: r,
            onPageChange: this.handlePageChange,
            onFiltered: u,
            onSorted: s,
          };
        return (
          this.props.disableGeneralSearch ||
            (d.onGeneralSearch = this.handleGeneralSearch),
          this.props.disableGrouping ||
            (d.onGroupChange = this.handleGroupChange),
          this.props.disableSort || (d.onSort = this.handleSort),
          this.props.disableColumnVisibilityToggle ||
            (d.onColumnVisibilityToggle = this.handleColumnVisibilityToggle),
          this.props.disableColumnReorder ||
            (d.onColumnReorder = this.handleColumnReorder),
          this.props.disableFilters ||
            (d.onFilterUpdate = this.handleFilterUpdate),
          a.createElement(
            ne,
            Object.assign({}, d, { qhGridRef: this.qhGridRef }),
          )
        );
      }),
      t
    );
  })(o.Component);
function de(e) {
  return (
    void 0 === e && (e = []),
    e.map(function(e) {
      return p({}, e, { id: e.id || '' + z(e.field), hidden: !!e.hidden });
    })
  );
}
se.defaultProps = { showError: function() {}, itemsPerPage: 15 };
var pe = {},
  me = (function(e) {
    function t() {
      var t;
      return (
        ((t = e.apply(this, arguments) || this).state = {
          generalSearch: '',
          filters: {},
          columns: [],
          sortBy: null,
          sortOrder: null,
          grouping: [],
          itemsPerPage: 15,
          activePage: 1,
          columnsConfig: fe(t.props.columnsConfig) || [],
        }),
        (t.qhGridRef = a.createRef()),
        (t.componentDidMount = function() {
          t.props.uniqueCacheKey &&
          !t.props.quickView &&
          !t.props.defaultQuickView &&
          pe[t.props.uniqueCacheKey]
            ? t.setState(pe[t.props.uniqueCacheKey])
            : (t.setState({
                columns: t.state.columnsConfig,
                itemsPerPage: t.props.itemsPerPage || t.state.itemsPerPage,
              }),
              t.fetchData());
        }),
        (t.componentDidUpdate = function(e, n) {
          if (t.props.columnsConfig !== e.columnsConfig) {
            var r = fe(t.props.columnsConfig);
            t.setState({ columns: r, columnsConfig: r });
          }
          t.props.itemsPerPage !== e.itemsPerPage &&
            void 0 !== t.props.itemsPerPage &&
            t.setState({ itemsPerPage: t.props.itemsPerPage, activePage: 1 }),
            (t.state.columnsConfig === n.columnsConfig &&
              t.state.itemsPerPage === n.itemsPerPage &&
              t.state.generalSearch === n.generalSearch &&
              t.state.grouping === n.grouping &&
              t.state.sortBy === n.sortBy &&
              t.state.sortOrder === n.sortOrder &&
              t.state.filters === n.filters &&
              t.state.activePage === n.activePage) ||
              t.fetchData(),
            t.props.uniqueCacheKey &&
              t.state !== n &&
              (pe[t.props.uniqueCacheKey] = t.state);
        }),
        (t.setFilters = function(e) {
          t.setState({ filters: e, activePage: 1 });
        }),
        (t.setSort = function(e, n) {
          t.setState({ sortBy: e, sortOrder: n, activePage: 1 });
        }),
        (t.handleGeneralSearch = function(e) {
          t.setState({ generalSearch: e, activePage: 1 });
        }),
        (t.handleGroupChange = function(e) {
          t.setState({ grouping: e, activePage: 1 });
        }),
        (t.handleSort = function(e) {
          var n = e,
            r = 'asc';
          t.setState(function(t) {
            return (
              t.sortBy === e &&
                ('asc' === t.sortOrder
                  ? (r = 'desc')
                  : 'desc' === t.sortOrder && ((n = null), (r = null))),
              { sortBy: n, sortOrder: r, activePage: 1 }
            );
          });
        }),
        (t.handleColumnVisibilityToggle = function(e) {
          t.setState(function(t) {
            return {
              columns: t.columns.map(function(t) {
                return t.id === e && (t = p({}, t, { hidden: !t.hidden })), t;
              }),
            };
          });
        }),
        (t.handleColumnReorder = function(e, n) {
          t.setState(function(t) {
            var r = t.columns.slice();
            return r.splice(n, 0, r.splice(e, 1)[0]), { columns: r };
          });
        }),
        (t.handleFilterUpdate = function(e, r) {
          return function(o) {
            t.setState(
              void 0 === o
                ? function(t) {
                    return {
                      filters: n(t.filters, { $unset: [e] }),
                      activePage: 1,
                    };
                  }
                : function(t) {
                    var n;
                    return {
                      filters: p(
                        {},
                        t.filters,
                        ((n = {}), (n[e] = { value: o, type: r }), n),
                      ),
                      activePage: 1,
                    };
                  },
            );
          };
        }),
        (t.getView = function() {
          var e = t.state;
          return {
            grouping: e.grouping,
            sortBy: e.sortBy,
            sortOrder: e.sortOrder,
            generalSearch: e.generalSearch,
            activePage: e.activePage,
            itemsPerPage: e.itemsPerPage,
            filters: e.filters,
            columns: e.columns.map(function(e) {
              return { id: e.id, hidden: e.hidden };
            }),
          };
        }),
        (t.handleQuickViewChange = function(e) {
          var n = e.view.columns,
            o = t.state.columnsConfig;
          if (!(null == n ? void 0 : n.length))
            return t.setState(p({}, e.view, { columns: o }));
          var a = r.keyBy(o, 'id'),
            i = r.groupBy(n, 'id'),
            l = o.filter(function(e) {
              return !i[e.id];
            }),
            c = n
              .reduce(function(e, t) {
                var n = a[t.id];
                return n && e.push(p({}, n, { hidden: t.hidden })), e;
              }, [])
              .concat(l);
          t.setState(p({}, e.view, { columns: c }));
        }),
        (t.handleItemsPerPageChange = function(e) {
          null == t.props.onItemsPerPageChange ||
            t.props.onItemsPerPageChange(e),
            t.setState({ itemsPerPage: e, activePage: 1 });
        }),
        (t.handlePageChange = function(e) {
          t.setState({ activePage: e });
        }),
        (t.fetchData = function() {
          var e = t.state;
          t.props.fetchData &&
            t.props.fetchData(
              {
                sortBy: e.sortBy,
                sortOrder: e.sortOrder,
                filters: e.filters,
                activePage: e.activePage,
                itemsPerPage: e.itemsPerPage,
                grouping: e.grouping,
                generalSearch: e.generalSearch,
                columns: e.columnsConfig,
              },
              t.props,
            );
        }),
        (t.fetchReportData = function() {
          var e,
            n = t.state;
          return null !=
            (e =
              null == t.props.fetchReportData
                ? void 0
                : t.props.fetchReportData(
                    {
                      sortBy: n.sortBy,
                      sortOrder: n.sortOrder,
                      filters: n.filters,
                      activePage: n.activePage,
                      itemsPerPage: n.itemsPerPage,
                      grouping: n.grouping,
                      generalSearch: n.generalSearch,
                      columns: n.columnsConfig,
                    },
                    t.props,
                  ))
            ? e
            : [];
        }),
        t
      );
    }
    return (
      m(t, e),
      (t.prototype.render = function() {
        var e = this.state,
          t = e.generalSearch,
          n = e.filters,
          r = e.columns,
          o = e.columnsConfig,
          l = e.sortBy,
          c = e.sortOrder,
          u = e.grouping,
          s = e.itemsPerPage,
          d = e.activePage,
          p = this.props,
          m = p.data,
          f = p.exportBaseName,
          g = p.loading,
          h = p.loadingMessage,
          v = p.additionalTemplateInfo,
          y = p.rowLevelStyleCalc,
          C = p.rowLevelPropsCalc,
          w = p.onRowClick,
          b = p.emptyMessage,
          E = p.height,
          k = p.totalRows,
          P = a.createElement(
            a.Fragment,
            null,
            a.createElement(ce, {
              id: this.props.quickViewsId,
              config: this.props.quickViews,
              defaultValue: this.props.defaultQuickView,
              disableChanges: this.props.disableQuickViewEditing,
              onChange: this.props.onQuickViewChange,
              onShare: this.props.onQuickViewShare,
              ownerId: this.props.ownerId,
              url: this.props.quickViewsURL,
              value: this.props.quickView,
              onViewChange: this.handleQuickViewChange,
              getView: this.getView,
              disableMenu: this.props.disableQuickViewMenu,
            }),
            this.props.legend &&
              a.createElement(i.Popup, {
                flowing: !0,
                trigger: a.createElement(i.Button, {
                  icon: 'info circle',
                  content: 'Legend',
                  inverted: !0,
                }),
                children: this.props.legend,
              }),
            this.props.extraHeaderItem,
          ),
          S = {
            generalSearch: t,
            filters: n,
            columns: r,
            sortBy: l,
            sortOrder: c,
            grouping: u,
            data: m,
            exportBaseName: f,
            loading: g,
            loadingMessage: h,
            additionalTemplateInfo: v,
            rowLevelStyleCalc: y,
            rowLevelPropsCalc: C,
            onRowClick: w,
            onReloadData: this.fetchData,
            getExportData: this.props.fetchReportData && this.fetchReportData,
            emptyMessage: b,
            extraHeaderItem: P,
            columnsConfig: o,
            itemsPerPage: s,
            activePage: d,
            height: E,
            totalRows: k,
            onPageChange: this.handlePageChange,
            onItemsPerPageChange: this.handleItemsPerPageChange,
            isPaginated: !0,
          };
        return (
          this.props.disableGeneralSearch ||
            (S.onGeneralSearch = this.handleGeneralSearch),
          this.props.disableGrouping ||
            (S.onGroupChange = this.handleGroupChange),
          this.props.disableSort || (S.onSort = this.handleSort),
          this.props.disableColumnVisibilityToggle ||
            (S.onColumnVisibilityToggle = this.handleColumnVisibilityToggle),
          this.props.disableColumnReorder ||
            (S.onColumnReorder = this.handleColumnReorder),
          this.props.disableFilters ||
            (S.onFilterUpdate = this.handleFilterUpdate),
          a.createElement(
            ne,
            Object.assign({}, S, { qhGridRef: this.qhGridRef }),
          )
        );
      }),
      t
    );
  })(o.PureComponent);
function fe(e) {
  return (
    void 0 === e && (e = []),
    e.map(function(e) {
      return p({}, e, { id: e.id || '' + z(e.field), hidden: !!e.hidden });
    })
  );
}
(me.defaultProps = { showError: function() {}, itemsPerPage: 15 }),
  (exports.EZGrid = se),
  (exports.EZNetworkGrid = me),
  (exports.QHGrid = ne),
  (exports.QuickViewModal = ae),
  (exports.QuickViews = ce),
  (exports.filterTypes = F),
  (exports.getField = z),
  (exports.getFieldValue = U),
  (exports.typeMap = _);
//# sourceMappingURL=qhgrid.cjs.production.min.js.map
